{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useRoute } from '@react-navigation/native';\nimport React, { useEffect, useState } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport FontAwesome from \"@expo/vector-icons/FontAwesome\";\nimport { CustomHeader } from \"../../components\";\nimport { navigationStrings, Strings } from \"../../constants\";\nimport { Colors, horizontalScale, moderateScale } from \"../../theme\";\nimport styling from \"./CardDetailStyle\";\nimport { getCardById, getProductCard } from \"../../redux/actions/card\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { showLoader } from \"../../redux/actions/user\";\nimport { Fonts } from \"../../assets\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar CardDetail = function CardDetail(_ref) {\n  var _route$params, _route$params2;\n  var navigation = _ref.navigation;\n  var route = useRoute();\n  var dispatch = useDispatch();\n  var theme = route == null ? void 0 : (_route$params = route.params) == null ? void 0 : _route$params.theme;\n  var styles = styling(theme);\n  var userDetails = useSelector(function (state) {\n    var _state$user;\n    return state == null ? void 0 : (_state$user = state.user) == null ? void 0 : _state$user.login;\n  });\n  var _useState = useState((route == null ? void 0 : (_route$params2 = route.params) == null ? void 0 : _route$params2.virtualCard) || []),\n    _useState2 = _slicedToArray(_useState, 2),\n    virtualCard = _useState2[0],\n    setVirtualCard = _useState2[1];\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var unsubscribe = navigation.addListener('focus', _asyncToGenerator(function* () {\n        var _userDetails$data, _userDetails$data$per, _userDetails$data$per2, _res$data, _res$data$data;\n        yield dispatch(showLoader(true));\n        var body = {\n          customer_id: userDetails == null ? void 0 : (_userDetails$data = userDetails.data) == null ? void 0 : (_userDetails$data$per = _userDetails$data.personDetail) == null ? void 0 : (_userDetails$data$per2 = _userDetails$data$per[0]) == null ? void 0 : _userDetails$data$per2.id,\n          limit: \"100\",\n          page_token: \"\"\n        };\n        var res = yield getProductCard(body);\n        yield dispatch(showLoader(false));\n        if (res != null && (_res$data = res.data) != null && (_res$data$data = _res$data.data) != null && _res$data$data.cards) {\n          var _res$data2, _res$data2$data, _res$data3, _res$data3$data, _route$params3;\n          var filteredData = res == null ? void 0 : (_res$data2 = res.data) == null ? void 0 : (_res$data2$data = _res$data2.data) == null ? void 0 : _res$data2$data.cards.filter(function (item) {\n            return item.form === 'VIRTUAL';\n          });\n          var filteredData1 = res == null ? void 0 : (_res$data3 = res.data) == null ? void 0 : (_res$data3$data = _res$data3.data) == null ? void 0 : _res$data3$data.cards.filter(function (item) {\n            return item.form === 'PHYSICAL';\n          });\n          setVirtualCard(route != null && (_route$params3 = route.params) != null && _route$params3.isPhysical ? filteredData1 : filteredData);\n        }\n      }));\n      return unsubscribe;\n    })();\n  }, []);\n  return _jsxs(View, {\n    style: styles.screen,\n    children: [_jsx(CustomHeader, {\n      theme: theme,\n      headerTitle: 'Card List',\n      onPressBack: function onPressBack() {\n        return navigation.goBack();\n      }\n    }), _jsx(View, {\n      style: styles.container,\n      children: _jsx(FlatList, {\n        data: virtualCard,\n        showsVerticalScrollIndicator: false,\n        renderItem: function renderItem(_ref4) {\n          var _Colors$theme, _Colors$theme2;\n          var item = _ref4.item;\n          return _jsxs(TouchableOpacity, {\n            style: styles.card,\n            onPress: function onPress() {\n              return navigation.navigate(navigationStrings == null ? void 0 : navigationStrings.VIRTAULCARD, {\n                item: item\n              });\n            },\n            children: [_jsxs(View, {\n              style: styles.innerView,\n              children: [_jsx(View, {\n                style: {\n                  height: horizontalScale(40),\n                  width: horizontalScale(40),\n                  borderRadius: horizontalScale(90),\n                  backgroundColor: '#C3EBEE',\n                  justifyContent: 'center',\n                  alignItems: 'center'\n                },\n                children: _jsx(FontAwesome, {\n                  name: 'credit-card',\n                  color: (_Colors$theme = Colors[theme]) == null ? void 0 : _Colors$theme.black,\n                  size: moderateScale(20)\n                })\n              }), _jsxs(View, {\n                children: [_jsx(Text, {\n                  style: styles.cardTitle,\n                  children: `**** **** **** ${item == null ? void 0 : item.last_four}`\n                }), _jsx(Text, {\n                  style: [styles.cardTitle, {\n                    color: (item == null ? void 0 : item.card_status) === 'ACTIVE' ? Colors[theme].green900 : Colors[theme].red,\n                    fontFamily: Fonts.regular\n                  }],\n                  children: `${item == null ? void 0 : item.card_status}`\n                })]\n              })]\n            }), _jsx(FontAwesome, {\n              name: 'angle-right',\n              color: (_Colors$theme2 = Colors[theme]) == null ? void 0 : _Colors$theme2.black,\n              size: moderateScale(24)\n            })]\n          });\n        }\n      })\n    })]\n  });\n};\nexport default CardDetail;","map":{"version":3,"names":["useRoute","React","useEffect","useState","Text","TouchableOpacity","View","FlatList","FontAwesome","CustomHeader","navigationStrings","Strings","Colors","horizontalScale","moderateScale","styling","getCardById","getProductCard","useDispatch","useSelector","showLoader","Fonts","jsx","_jsx","jsxs","_jsxs","CardDetail","_ref","_route$params","_route$params2","navigation","route","dispatch","theme","params","styles","userDetails","state","_state$user","user","login","_useState","virtualCard","_useState2","_slicedToArray","setVirtualCard","_asyncToGenerator","unsubscribe","addListener","_userDetails$data","_userDetails$data$per","_userDetails$data$per2","_res$data","_res$data$data","body","customer_id","data","personDetail","id","limit","page_token","res","cards","_res$data2","_res$data2$data","_res$data3","_res$data3$data","_route$params3","filteredData","filter","item","form","filteredData1","isPhysical","style","screen","children","headerTitle","onPressBack","goBack","container","showsVerticalScrollIndicator","renderItem","_ref4","_Colors$theme","_Colors$theme2","card","onPress","navigate","VIRTAULCARD","innerView","height","width","borderRadius","backgroundColor","justifyContent","alignItems","name","color","black","size","cardTitle","last_four","card_status","green900","red","fontFamily","regular"],"sources":["/Users/dhavalpatel/Documents/ExpoApp/src/modules/CardDetail/CardDetail.js"],"sourcesContent":["import {useRoute} from '@react-navigation/native';\nimport React, { useEffect, useState } from 'react';\nimport {Text, TouchableOpacity, View,FlatList} from 'react-native';\nimport FontAwesome from 'react-native-vector-icons/FontAwesome';\nimport {CustomHeader} from '../../components';\nimport {navigationStrings, Strings} from '../../constants';\nimport {Colors, horizontalScale, moderateScale} from '../../theme';\nimport styling from './CardDetailStyle';\nimport { getCardById, getProductCard } from '../../redux/actions/card';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { showLoader } from '../../redux/actions/user';\nimport { Fonts } from '../../assets';\n\nconst CardDetail = ({navigation}) => {\n  const route = useRoute();\n  const dispatch = useDispatch();\n  const theme = route?.params?.theme;\n  const styles = styling(theme);\n  const userDetails = useSelector(state => state?.user?.login)\n  const [virtualCard,setVirtualCard] =useState(route?.params?.virtualCard || [])\n\n  useEffect(() => {\n    (async () => {\n      const unsubscribe = navigation.addListener('focus',async () => {\n        await dispatch(showLoader(true))\n        let body = {\n           customer_id: userDetails?.data?.personDetail?.[0]?.id,\n           limit:\"100\",\n           page_token:\"\",\n       }\n        let res=await getProductCard(body)\n       await dispatch(showLoader(false))\n        if(res?.data?.data?.cards){\n        const filteredData = res?.data?.data?.cards.filter(item => item.form === 'VIRTUAL');\n        const filteredData1 = res?.data?.data?.cards.filter(item => item.form === 'PHYSICAL');\n        setVirtualCard(route?.params?.isPhysical?filteredData1 :filteredData)\n        }\n      });\n      return unsubscribe;\n})()\n  }, [])\n\n  return (\n    <View style={styles.screen}>\n      <CustomHeader\n        theme={theme}\n        headerTitle={'Card List'}\n        onPressBack={() => navigation.goBack()}\n      />\n      <View style={styles.container}>\n        <FlatList\n        data={virtualCard}\n        showsVerticalScrollIndicator={false}\n        renderItem={({item})=>{\n          return(\n        <TouchableOpacity\n          style={styles.card}\n          onPress={() => navigation.navigate(navigationStrings?.VIRTAULCARD,{item:item})}>\n          <View style={styles.innerView}>\n          <View style={{\n              height:horizontalScale(40),\n              width:horizontalScale(40),\n              borderRadius:horizontalScale(90),\n              backgroundColor:'#C3EBEE',\n              justifyContent:'center',\n              alignItems:'center'\n            }}>\n            <FontAwesome\n              name={'credit-card'}\n              color={Colors[theme]?.black}\n              size={moderateScale(20)}\n            />\n            </View>\n            <View>\n            <Text style={styles.cardTitle}>{`**** **** **** ${item?.last_four}`}</Text>\n            <Text style={[styles.cardTitle,{color:item?.card_status ==='ACTIVE'?Colors[theme].green900:Colors[theme].red,fontFamily: Fonts.regular}]}>{`${item?.card_status}`}</Text>\n            </View>\n          </View>\n          <FontAwesome\n            name={'angle-right'}\n            color={Colors[theme]?.black}\n            size={moderateScale(24)}\n          />\n        </TouchableOpacity>\n          )\n        }}\n        />\n      </View>\n    </View>\n  );\n};\n\nexport default CardDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}