{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React, { useEffect } from 'react';\nimport { useRoute } from '@react-navigation/native';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Icons } from \"../../assets\";\nimport styling from \"./SplashScreenStyle\";\nimport * as Animatable from 'react-native-animatable';\nimport { navigationStrings } from \"../../constants\";\nimport { get, save } from \"../../utils/Storage\";\nimport * as constants from \"../../utils/constant\";\nimport { setToken } from \"../../httpClient/ClientHelper\";\nimport { useDispatch } from 'react-redux';\nimport { showLoader } from \"../../redux/actions/user\";\nimport { moderateScale } from \"../../theme\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SplashScreenStyle = function SplashScreenStyle(_ref) {\n  var _route$params, _ref4;\n  var navigation = _ref.navigation;\n  var route = useRoute();\n  var dispatch = useDispatch();\n  var theme = route == null ? void 0 : (_route$params = route.params) == null ? void 0 : _route$params.theme;\n  var styles = styling(theme);\n  React.useEffect(function () {\n    _asyncToGenerator(function* () {\n      yield dispatch(showLoader(false));\n      requestCameraAndAudioPermission();\n      var login_res = yield get(constants.LOGIN_TOKEN);\n      var otpVerify = yield get(\"otpVerify\");\n      setTimeout(_asyncToGenerator(function* () {\n        if (login_res && otpVerify) {\n          yield setToken(login_res == null ? void 0 : login_res.jwt_token);\n          dispatch({\n            type: constants.LOGIN,\n            payload: login_res\n          });\n          navigation.navigate(navigationStrings.BOTTOMTABSNAV);\n        } else {\n          yield save('otpVerify', false);\n          navigation.navigate(navigationStrings.AUTHSTACK);\n        }\n      }), 4000);\n    })();\n  }, []);\n  var requestCameraAndAudioPermission = function requestCameraAndAudioPermission() {\n    return (_ref4 = _ref4 || _asyncToGenerator(function* () {\n      try {} catch (err) {\n        console.log('permission--->', err);\n      }\n    })).apply(this, arguments);\n  };\n  return _jsxs(View, {\n    style: styles.screen,\n    children: [_jsx(Animatable.Image, {\n      source: Icons.appLogo,\n      animation: \"zoomIn\",\n      delay: 50,\n      iterationDelay: 50,\n      resizeMode: 'contain',\n      style: styles.appLogo\n    }), _jsx(Text, {\n      style: styles.headText,\n      children: \"Welcome\"\n    }), _jsx(Image, {\n      source: require(\"../../assets/images/Loader.gif\"),\n      style: {\n        position: 'absolute',\n        bottom: 30,\n        height: moderateScale(40),\n        width: moderateScale(40),\n        alignSelf: 'center'\n      },\n      resizeMode: \"contain\"\n    })]\n  });\n};\nexport default SplashScreenStyle;","map":{"version":3,"names":["React","useEffect","useRoute","Image","Platform","Text","TouchableOpacity","View","Icons","styling","Animatable","navigationStrings","get","save","constants","setToken","useDispatch","showLoader","moderateScale","jsx","_jsx","jsxs","_jsxs","SplashScreenStyle","_ref","_route$params","_ref4","navigation","route","dispatch","theme","params","styles","_asyncToGenerator","requestCameraAndAudioPermission","login_res","LOGIN_TOKEN","otpVerify","setTimeout","jwt_token","type","LOGIN","payload","navigate","BOTTOMTABSNAV","AUTHSTACK","err","console","log","apply","arguments","style","screen","children","source","appLogo","animation","delay","iterationDelay","resizeMode","headText","require","position","bottom","height","width","alignSelf"],"sources":["/Users/dhavalpatel/Documents/ExpoApp/src/modules/SplashScreen/SplashScreen.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { useRoute } from '@react-navigation/native'\nimport { Image, Platform, Text, TouchableOpacity, View } from 'react-native'\nimport { Icons } from '../../assets'\nimport styling from './SplashScreenStyle'\nimport * as Animatable from 'react-native-animatable'\nimport { navigationStrings } from '../../constants'\nimport { get, save } from '../../utils/Storage'\nimport * as constants from '../../utils/constant'\nimport { setToken } from '../../httpClient/ClientHelper'\nimport { useDispatch } from 'react-redux'\nimport { showLoader } from '../../redux/actions/user'\nimport { moderateScale } from '../../theme'\n\nconst SplashScreenStyle = ({ navigation }) => {\n  const route = useRoute()\n  const dispatch = useDispatch()\n  const theme = route?.params?.theme\n  const styles = styling(theme)\n  React.useEffect(() => {\n    (async () => {\n      await dispatch(showLoader(false))\n\n      requestCameraAndAudioPermission()\n      let login_res = await get(constants.LOGIN_TOKEN)\n      let otpVerify = await get(\"otpVerify\")\n      setTimeout(async () => {\n        if (login_res && otpVerify) {\n          await setToken(login_res?.jwt_token)\n          dispatch({\n            type: constants.LOGIN,\n            payload: login_res,\n          })\n          navigation.navigate(navigationStrings.BOTTOMTABSNAV)\n        } else {\n          await save('otpVerify', false)\n          navigation.navigate(navigationStrings.AUTHSTACK)\n        }\n      }, 4000)\n    })()\n  }, [])\n\n  const requestCameraAndAudioPermission = async () => {\n    try {\n      // if (Platform.OS === \"android\") {\n      //   const granted = await PermissionsAndroid.requestMultiple([\n      //     PermissionsAndroid.PERMISSIONS.CAMERA,\n      //     PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,\n      //   ])\n      //   if (\n      //     granted['android.permission.RECORD_AUDIO'] ===\n      //     PermissionsAndroid.RESULTS.GRANTED &&\n      //     granted['android.permission.CAMERA'] ===\n      //     PermissionsAndroid.RESULTS.GRANTED\n      //   ) {\n      //     console.log('You can use the cameras & mic')\n      //   } else {\n      //     console.log('Permission denied')\n      //   }\n      // }\n      // else {\n      //   console.log(\"Not granted\")\n      // }\n    } catch (err) {\n      console.log('permission--->', err)\n    }\n  }\n\n\n  return (\n    <View style={styles.screen}>\n      <Animatable.Image source={Icons.appLogo} animation='zoomIn' delay={50} iterationDelay={50} resizeMode={'contain'} style={styles.appLogo} />\n      <Text style={styles.headText}>Welcome</Text>\n      <Image source={require(\"../../assets/images/Loader.gif\")} style={{ position: 'absolute', bottom: 30, height: moderateScale(40), width: moderateScale(40), alignSelf: 'center', }} resizeMode='contain' />\n      {/* <Animatable.Text animation=\"fadeIn\" duration={4000} style={[styles.secondText, { alignSelf: 'center', color: 'black', fontWeight: '700', position: 'absolute', bottom: 30 }]}>Loading...</Animatable.Text> */}\n    </View>\n  )\n}\n\nexport default SplashScreenStyle\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}