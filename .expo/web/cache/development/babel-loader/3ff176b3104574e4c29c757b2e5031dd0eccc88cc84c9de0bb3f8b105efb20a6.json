{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React, { useEffect } from 'react';\nimport { useRoute } from '@react-navigation/native';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport PermissionsAndroid from \"react-native-web/dist/exports/PermissionsAndroid\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Icons } from \"../../assets\";\nimport styling from \"./SplashScreenStyle\";\nimport * as Animatable from 'react-native-animatable';\nimport { navigationStrings } from \"../../constants\";\nimport { get, save } from \"../../utils/Storage\";\nimport * as constants from \"../../utils/constant\";\nimport { setToken } from \"../../httpClient/ClientHelper\";\nimport { useDispatch } from 'react-redux';\nimport { showLoader } from \"../../redux/actions/user\";\nimport { moderateScale } from \"../../theme\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SplashScreenStyle = function SplashScreenStyle(_ref) {\n  var _route$params;\n  var navigation = _ref.navigation;\n  var route = useRoute();\n  var dispatch = useDispatch();\n  var theme = route == null ? void 0 : (_route$params = route.params) == null ? void 0 : _route$params.theme;\n  var styles = styling(theme);\n  React.useEffect(function () {\n    _asyncToGenerator(function* () {\n      yield dispatch(showLoader(false));\n      requestCameraAndAudioPermission();\n      var login_res = yield get(constants.LOGIN_TOKEN);\n      var otpVerify = yield get(\"otpVerify\");\n      setTimeout(_asyncToGenerator(function* () {\n        if (login_res && otpVerify) {\n          yield setToken(login_res == null ? void 0 : login_res.jwt_token);\n          dispatch({\n            type: constants.LOGIN,\n            payload: login_res\n          });\n          navigation.navigate(navigationStrings.BOTTOMTABSNAV);\n        } else {\n          yield save('otpVerify', false);\n          navigation.navigate(navigationStrings.AUTHSTACK);\n        }\n      }), 4000);\n    })();\n  }, []);\n  var requestCameraAndAudioPermission = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      try {\n        if (Platform.OS === \"android\") {\n          var granted = yield PermissionsAndroid.requestMultiple([PermissionsAndroid.PERMISSIONS.CAMERA, PermissionsAndroid.PERMISSIONS.RECORD_AUDIO]);\n          if (granted['android.permission.RECORD_AUDIO'] === PermissionsAndroid.RESULTS.GRANTED && granted['android.permission.CAMERA'] === PermissionsAndroid.RESULTS.GRANTED) {\n            console.log('You can use the cameras & mic');\n          } else {\n            console.log('Permission denied');\n          }\n        }\n      } catch (err) {\n        console.log('permission--->', err);\n      }\n    });\n    return function requestCameraAndAudioPermission() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.screen,\n    children: [_jsx(Animatable.Image, {\n      source: Icons.appLogo,\n      animation: \"zoomIn\",\n      delay: 50,\n      iterationDelay: 50,\n      resizeMode: 'contain',\n      style: styles.appLogo\n    }), _jsx(Text, {\n      style: styles.headText,\n      children: \"Welcome\"\n    }), _jsx(Image, {\n      source: require(\"../../assets/images/Loader.gif\"),\n      style: {\n        position: 'absolute',\n        bottom: 30,\n        height: moderateScale(40),\n        width: moderateScale(40),\n        alignSelf: 'center'\n      },\n      resizeMode: \"contain\"\n    })]\n  });\n};\nexport default SplashScreenStyle;","map":{"version":3,"names":["React","useEffect","useRoute","Image","PermissionsAndroid","Platform","Text","TouchableOpacity","View","Icons","styling","Animatable","navigationStrings","get","save","constants","setToken","useDispatch","showLoader","moderateScale","jsx","_jsx","jsxs","_jsxs","SplashScreenStyle","_ref","_route$params","navigation","route","dispatch","theme","params","styles","_asyncToGenerator","requestCameraAndAudioPermission","login_res","LOGIN_TOKEN","otpVerify","setTimeout","jwt_token","type","LOGIN","payload","navigate","BOTTOMTABSNAV","AUTHSTACK","_ref4","OS","granted","requestMultiple","PERMISSIONS","CAMERA","RECORD_AUDIO","RESULTS","GRANTED","console","log","err","apply","arguments","style","screen","children","source","appLogo","animation","delay","iterationDelay","resizeMode","headText","require","position","bottom","height","width","alignSelf"],"sources":["/Users/dhavalpatel/Documents/ExpoApp/src/modules/SplashScreen/SplashScreen.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { useRoute } from '@react-navigation/native';\nimport { Image, PermissionsAndroid, Platform, Text, TouchableOpacity, View } from 'react-native';\nimport { Icons } from '../../assets';\nimport styling from './SplashScreenStyle';\nimport * as Animatable from 'react-native-animatable';\nimport { navigationStrings } from '../../constants';\nimport { get, save } from '../../utils/Storage';\nimport * as constants from '../../utils/constant';\nimport { setToken } from '../../httpClient/ClientHelper';\nimport { useDispatch } from 'react-redux';\nimport { showLoader } from '../../redux/actions/user';\nimport { moderateScale } from '../../theme';\n\nconst SplashScreenStyle = ({ navigation }) => {\n  const route = useRoute();\n  const dispatch = useDispatch();\n  const theme = route?.params?.theme;\n  const styles = styling(theme);\n  React.useEffect(() => {\n    (async () => {\n      await dispatch(showLoader(false))\n\n      requestCameraAndAudioPermission()\n      let login_res = await get(constants.LOGIN_TOKEN)\n      let otpVerify = await get(\"otpVerify\")\n      setTimeout(async () => {\n        if (login_res && otpVerify) {\n          await setToken(login_res?.jwt_token)\n          dispatch({\n            type: constants.LOGIN,\n            payload: login_res,\n          });\n          navigation.navigate(navigationStrings.BOTTOMTABSNAV)\n        } else {\n          await save('otpVerify', false)\n          navigation.navigate(navigationStrings.AUTHSTACK)\n        }\n      }, 4000);\n    })();\n  }, [])\n\n  const requestCameraAndAudioPermission = async () => {\n    try {\n      if (Platform.OS === \"android\") {\n        const granted = await PermissionsAndroid.requestMultiple([\n          PermissionsAndroid.PERMISSIONS.CAMERA,\n          PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,\n        ]);\n        if (\n          granted['android.permission.RECORD_AUDIO'] ===\n          PermissionsAndroid.RESULTS.GRANTED &&\n          granted['android.permission.CAMERA'] ===\n          PermissionsAndroid.RESULTS.GRANTED\n        ) {\n          console.log('You can use the cameras & mic');\n        } else {\n          console.log('Permission denied');\n        }\n      }\n    } catch (err) {\n      console.log('permission--->', err);\n    }\n  };\n\n\n  return (\n    <View style={styles.screen}>\n      <Animatable.Image source={Icons.appLogo} animation='zoomIn' delay={50} iterationDelay={50} resizeMode={'contain'} style={styles.appLogo} />\n      <Text style={styles.headText}>Welcome</Text>\n      <Image source={require(\"../../assets/images/Loader.gif\")} style={{ position: 'absolute', bottom: 30, height: moderateScale(40), width: moderateScale(40), alignSelf: 'center', }} resizeMode='contain' />\n      {/* <Animatable.Text animation=\"fadeIn\" duration={4000} style={[styles.secondText, { alignSelf: 'center', color: 'black', fontWeight: '700', position: 'absolute', bottom: 30 }]}>Loading...</Animatable.Text> */}\n    </View>\n  );\n};\n\nexport default SplashScreenStyle;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}