{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";var _signUp,_ref5,_verifyOtp,_resendOTP,_getDisclosureLink;import{apiInstance}from\"../../httpClient\";import{removeToken,setToken}from\"../../httpClient/ClientHelper\";import*as constants from\"../../utils/constant\";import{multiItemValue,save,saveString}from\"../../utils/Storage\";export function signUp(_x){return(_signUp=_signUp||_asyncToGenerator(function*(userObj){try{var res=yield apiInstance.post('user/create',userObj);return res.data;}catch(err){var _err$response;console.log('signUp_error--->',JSON.stringify(err==null?void 0:(_err$response=err.response)==null?void 0:_err$response.data));return err;}})).apply(this,arguments);}export function logIn(data){var _ref;return function(_x2){return(_ref=_ref||_asyncToGenerator(function*(dispatch){var _ref2;return yield apiInstance.post(`login`,data).then(function(_x3){return(_ref2=_ref2||_asyncToGenerator(function*(res){var _res$data,_res$data3;if((res==null?void 0:(_res$data=res.data)==null?void 0:_res$data.status)===1){var _res$data2;yield setToken(res==null?void 0:(_res$data2=res.data)==null?void 0:_res$data2.jwt_token);yield save(constants.LOGIN_TOKEN,res==null?void 0:res.data);dispatch({type:constants.LOGIN,payload:res==null?void 0:res.data});return res;}else if((res==null?void 0:(_res$data3=res.data)==null?void 0:_res$data3.status)===2){return res;}else{return res;}})).apply(this,arguments);}).catch(function(e){console.log('----------error',e);return e==null?void 0:e.response;});})).apply(this,arguments);};}export function getAccountInfo(){var _ref3;return function(_x4){return(_ref3=_ref3||_asyncToGenerator(function*(dispatch){return yield apiInstance.get(`accounts/${constants.checking_account_id}`).then(function(res){if((res==null?void 0:res.status)===200){return dispatch({type:constants.GET_ACCOUNT_INFO,payload:res.data});}else{return res;}}).catch(function(e){return e;});})).apply(this,arguments);};}export function showLoader(data){var _ref4;return function(_x5){return(_ref4=_ref4||_asyncToGenerator(function*(dispatch){return dispatch({type:constants.SHOW_LOADER,payload:data});})).apply(this,arguments);};}export var removeTokens=function removeTokens(){return(_ref5=_ref5||_asyncToGenerator(function*(){removeToken();yield multiItemValue([constants.LOGIN_TOKEN,constants.REFRESH_TOKEN]);})).apply(this,arguments);};export function verifyOtp(_x6){return(_verifyOtp=_verifyOtp||_asyncToGenerator(function*(createObj){try{var res=yield apiInstance.post('verify-otp',createObj);return res.data;}catch(err){var _err$response2;console.log('signUp_error--->',JSON.stringify(err==null?void 0:(_err$response2=err.response)==null?void 0:_err$response2.data));return err;}})).apply(this,arguments);}export function resendOTP(){return(_resendOTP=_resendOTP||_asyncToGenerator(function*(){try{var res=yield apiInstance.get('resend-otp-mail');return res.data;}catch(err){var _err$response3;console.log('signUp_error--->',JSON.stringify(err==null?void 0:(_err$response3=err.response)==null?void 0:_err$response3.data));return err;}})).apply(this,arguments);}export function getDisclosureLink(_x7){return(_getDisclosureLink=_getDisclosureLink||_asyncToGenerator(function*(data){try{var res=yield apiInstance.post('disclosures-pages',data);return res.data;}catch(err){var _err$response4;console.log('signUp_error--->',JSON.stringify(err==null?void 0:(_err$response4=err.response)==null?void 0:_err$response4.data));return err;}})).apply(this,arguments);}export default{signUp:signUp,logIn:logIn};","map":{"version":3,"names":["apiInstance","removeToken","setToken","constants","multiItemValue","save","saveString","signUp","_x","_signUp","_asyncToGenerator","userObj","res","post","data","err","_err$response","console","log","JSON","stringify","response","apply","arguments","logIn","_ref","_x2","dispatch","_ref2","then","_x3","_res$data","_res$data3","status","_res$data2","jwt_token","LOGIN_TOKEN","type","LOGIN","payload","catch","e","getAccountInfo","_ref3","_x4","get","checking_account_id","GET_ACCOUNT_INFO","showLoader","_ref4","_x5","SHOW_LOADER","removeTokens","_ref5","REFRESH_TOKEN","verifyOtp","_x6","_verifyOtp","createObj","_err$response2","resendOTP","_resendOTP","_err$response3","getDisclosureLink","_x7","_getDisclosureLink","_err$response4"],"sources":["/Users/dhavalpatel/Documents/ExpoApp/src/redux/actions/user.js"],"sourcesContent":["import { apiInstance } from '../../httpClient';\nimport { removeToken, setToken } from '../../httpClient/ClientHelper';\nimport * as constants from '../../utils/constant';\nimport { multiItemValue, save, saveString } from '../../utils/Storage'\n\nexport async function signUp(userObj) {\n  try {\n    const res = await apiInstance.post('user/create', userObj);\n    return res.data;\n  } catch (err) {\n    console.log('signUp_error--->', JSON.stringify(err?.response?.data));\n    return err;\n  }\n}\n\nexport function logIn(data) {\n  return async dispatch => {\n    return await apiInstance\n      .post(`login`, data)\n      .then(async (res) => {\n        if (res?.data?.status === 1) {\n          await setToken(res?.data?.jwt_token);\n          await save(constants.LOGIN_TOKEN, res?.data);\n          dispatch({\n            type: constants.LOGIN,\n            payload: res?.data,\n          });\n          return res\n        } else if (res?.data?.status === 2) {\n          return res\n        } else {\n          return res\n        }\n      })\n      .catch(e => {\n        console.log('----------error', e)\n        return e?.response\n      });\n  };\n}\n\nexport function getAccountInfo() {\n  return async dispatch => {\n    return await apiInstance\n      .get(`accounts/${constants.checking_account_id}`)\n      .then(res => {\n        if (res?.status === 200) {\n          // setToken(res.data.result.token);\n          // saveData(constants.LOGIN_TOKEN, res.data.result.token);\n          // saveData(constants.REFRESH_TOKEN, res.data.result.refreshToken);\n          return dispatch({\n            type: constants.GET_ACCOUNT_INFO,\n            payload: res.data,\n          });\n        } else {\n          return res\n        }\n      })\n      .catch(e => {\n        return e\n      });\n  };\n}\n\n\nexport function showLoader(data) {\n  return async dispatch => {\n    return dispatch({\n      type: constants.SHOW_LOADER,\n      payload: data,\n    });\n  };\n}\n\nexport const removeTokens = async () => {\n  removeToken();\n  await multiItemValue([\n    constants.LOGIN_TOKEN,\n    constants.REFRESH_TOKEN,\n  ]);\n};\n\nexport async function verifyOtp(createObj) {\n  try {\n      const res = await apiInstance.post('verify-otp',createObj);\n      return res.data;\n  } catch (err) {\n      console.log('signUp_error--->', JSON.stringify(err?.response?.data));\n      return err;\n  }\n}\nexport async function resendOTP() {\n  try {\n      const res = await apiInstance.get('resend-otp-mail');\n      return res.data;\n  } catch (err) {\n      console.log('signUp_error--->', JSON.stringify(err?.response?.data));\n      return err;\n  }\n}\nexport async function getDisclosureLink(data) {\n  try {\n      const res = await apiInstance.post('disclosures-pages',data);\n      return res.data;\n  } catch (err) {\n      console.log('signUp_error--->', JSON.stringify(err?.response?.data));\n      return err;\n  }\n}\n\nexport default {\n  signUp,\n  logIn,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}