{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{useRoute}from'@react-navigation/native';import React,{useEffect,useState}from'react';import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import View from\"react-native-web/dist/exports/View\";import FontAwesome from\"@expo/vector-icons/FontAwesome\";import{CustomHeader}from\"../../components\";import{navigationStrings,Strings}from\"../../constants\";import{Colors,moderateScale}from\"../../theme\";import styling from\"./IssueCardStyle\";import{getProductCard,issue_Card}from\"../../redux/actions/card\";import{useDispatch,useSelector}from'react-redux';import{showLoader}from\"../../redux/actions/user\";import{showMessage}from'react-native-flash-message';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RethinkCardScreen=function RethinkCardScreen(_ref){var _route$params,_ref2,_Colors$theme,_Colors$theme2;var navigation=_ref.navigation;var route=useRoute();var dispatch=useDispatch();var theme=route==null?void 0:(_route$params=route.params)==null?void 0:_route$params.theme;var styles=styling(theme);var userDetails=useSelector(function(state){var _state$user;return state==null?void 0:(_state$user=state.user)==null?void 0:_state$user.login;});var _useState=useState([]),_useState2=_slicedToArray(_useState,2),virtualCard=_useState2[0],setVirtualCard=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),physicalCard=_useState4[0],setPhysicalCard=_useState4[1];var issueCard=function issueCard(_x){return(_ref2=_ref2||_asyncToGenerator(function*(type){var _userDetails$data,_userDetails$data$per,_userDetails$data$per2,_userDetails$data2,_userDetails$data2$ac,_userDetails$data2$ac2,_res$response,_res$response$data;yield dispatch(showLoader(true));var data={customer_id:userDetails==null?void 0:(_userDetails$data=userDetails.data)==null?void 0:(_userDetails$data$per=_userDetails$data.personDetail)==null?void 0:(_userDetails$data$per2=_userDetails$data$per[0])==null?void 0:_userDetails$data$per2.id,account_id:userDetails==null?void 0:(_userDetails$data2=userDetails.data)==null?void 0:(_userDetails$data2$ac=_userDetails$data2.accountDetail)==null?void 0:(_userDetails$data2$ac2=_userDetails$data2$ac[0])==null?void 0:_userDetails$data2$ac2.id,form:type};var res=yield issue_Card(data);yield dispatch(showLoader(false));if((res==null?void 0:(_res$response=res.response)==null?void 0:(_res$response$data=_res$response.data)==null?void 0:_res$response$data.status)===0){var _res$response2,_res$response2$data;showMessage({message:res==null?void 0:(_res$response2=res.response)==null?void 0:(_res$response2$data=_res$response2.data)==null?void 0:_res$response2$data.message,type:\"danger\"});}else{showMessage({message:\"Card issued successfully!\",type:\"success\"});navigation.navigate(navigationStrings.RETHINKCARD);}})).apply(this,arguments);};return _jsxs(View,{style:styles.screen,children:[_jsx(CustomHeader,{theme:theme,headerTitle:\"Issue New Card\",onPressBack:function onPressBack(){return navigation.goBack();}}),_jsxs(View,{style:styles.container,children:[_jsx(TouchableOpacity,{style:styles.card,onPress:function onPress(){return issueCard(\"VIRTUAL\");},children:_jsxs(View,{style:styles.innerView,children:[_jsx(FontAwesome,{name:'credit-card',color:(_Colors$theme=Colors[theme])==null?void 0:_Colors$theme.black,size:moderateScale(24)}),_jsx(Text,{style:styles.cardTitle,children:Strings.virtualCard})]})}),_jsx(TouchableOpacity,{style:styles.card,onPress:function onPress(){return issueCard(\"PHYSICAL\");},children:_jsxs(View,{style:styles.innerView,children:[_jsx(FontAwesome,{name:'credit-card',color:(_Colors$theme2=Colors[theme])==null?void 0:_Colors$theme2.black,size:moderateScale(24)}),_jsx(Text,{style:styles.cardTitle,children:Strings.physicalCard})]})})]})]});};export default RethinkCardScreen;","map":{"version":3,"names":["useRoute","React","useEffect","useState","Text","TouchableOpacity","View","FontAwesome","CustomHeader","navigationStrings","Strings","Colors","moderateScale","styling","getProductCard","issue_Card","useDispatch","useSelector","showLoader","showMessage","jsx","_jsx","jsxs","_jsxs","RethinkCardScreen","_ref","_route$params","_ref2","_Colors$theme","_Colors$theme2","navigation","route","dispatch","theme","params","styles","userDetails","state","_state$user","user","login","_useState","_useState2","_slicedToArray","virtualCard","setVirtualCard","_useState3","_useState4","physicalCard","setPhysicalCard","issueCard","_x","_asyncToGenerator","type","_userDetails$data","_userDetails$data$per","_userDetails$data$per2","_userDetails$data2","_userDetails$data2$ac","_userDetails$data2$ac2","_res$response","_res$response$data","data","customer_id","personDetail","id","account_id","accountDetail","form","res","response","status","_res$response2","_res$response2$data","message","navigate","RETHINKCARD","apply","arguments","style","screen","children","headerTitle","onPressBack","goBack","container","card","onPress","innerView","name","color","black","size","cardTitle"],"sources":["/Users/dhavalpatel/Documents/ExpoApp/src/modules/IssueCard/IssueCard.js"],"sourcesContent":["import {useRoute} from '@react-navigation/native';\nimport React, { useEffect, useState } from 'react';\nimport {Text, TouchableOpacity, View} from 'react-native';\nimport FontAwesome from 'react-native-vector-icons/FontAwesome';\nimport {CustomHeader} from '../../components';\nimport {navigationStrings, Strings} from '../../constants';\nimport {Colors, moderateScale} from '../../theme';\nimport styling from './IssueCardStyle';\nimport { getProductCard, issue_Card } from '../../redux/actions/card';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { showLoader } from '../../redux/actions/user';\nimport { showMessage } from 'react-native-flash-message';\n\nconst RethinkCardScreen = ({navigation}) => {\n  const route = useRoute();\n  const dispatch = useDispatch();\n  const theme = route?.params?.theme;\n  const styles = styling(theme);\n  const userDetails = useSelector(state => state?.user?.login)\n  const [virtualCard,setVirtualCard] =useState([])\n  const [physicalCard,setPhysicalCard] =useState([])\n\n  const issueCard=async(type)=>{\n    await dispatch(showLoader(true))\n                 let data={\n                  customer_id: userDetails?.data?.personDetail?.[0]?.id,\n    account_id: userDetails?.data?.accountDetail?.[0]?.id,\n    form :type\n                }\n                let res=await issue_Card(data)\n    await dispatch(showLoader(false))\nif(res?.response?.data?.status===0){\n  showMessage({\n    message: res?.response?.data?.message,\n    type: \"danger\",\n});\n}else{\n  showMessage({\n    message: \"Card issued successfully!\",\n    type: \"success\",\n});\nnavigation.navigate(navigationStrings.RETHINKCARD)\n}\n  }\n\n  return (\n    <View style={styles.screen}>\n      <CustomHeader\n        theme={theme}\n        headerTitle={\"Issue New Card\"}\n        onPressBack={() => navigation.goBack()}\n      />\n      <View style={styles.container}>\n        <TouchableOpacity\n          style={styles.card}\n          onPress={() => issueCard(\"VIRTUAL\")}>\n          <View style={styles.innerView}>\n            <FontAwesome\n              name={'credit-card'}\n              color={Colors[theme]?.black}\n              size={moderateScale(24)}\n            />\n            <Text style={styles.cardTitle}>{Strings.virtualCard}</Text>\n          </View>\n          {/* <FontAwesome \n            name={'angle-right'}\n            color={Colors[theme]?.grey500}\n            size={moderateScale(24)}\n          /> */}\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={styles.card}\n          onPress={() =>\n            issueCard(\"PHYSICAL\")\n          }>\n          <View style={styles.innerView}>\n            <FontAwesome\n              name={'credit-card'}\n              color={Colors[theme]?.black}\n              size={moderateScale(24)}\n            />\n            <Text style={styles.cardTitle}>{Strings.physicalCard}</Text>\n          </View>\n          {/* <FontAwesome\n            name={'angle-right'}\n            color={Colors[theme]?.grey500}\n            size={moderateScale(24)}\n          /> */}\n        </TouchableOpacity>\n      </View>\n    </View>\n  );\n};\n\nexport default RethinkCardScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}