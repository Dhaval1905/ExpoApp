{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useRef,useState}from'react';import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import{useRoute}from'@react-navigation/native';import{useSelector}from'react-redux';import OTPTextView from'react-native-otp-textinput';import{Icons}from\"../../assets\";import{CustomButton,CustomHeader,MoveMoneyCard}from\"../../components\";import{navigationStrings}from\"../../constants\";import{Strings}from\"../../constants/Strings\";import{Colors}from\"../../theme\";import styling from\"./styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OTPVerify=function OTPVerify(_ref){var _route$params,_userDetails$data,_userDetails$data$per,_userDetails$data$per2;var navigation=_ref.navigation;var route=useRoute();var theme=route==null?void 0:(_route$params=route.params)==null?void 0:_route$params.theme;var styles=styling(theme);var otpInput=useRef(null);var userDetails=useSelector(function(state){var _state$user;return state==null?void 0:(_state$user=state.user)==null?void 0:_state$user.login;});var _useState=useState(''),_useState2=_slicedToArray(_useState,2),otp=_useState2[0],setOtp=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),otpError=_useState4[0],setOtpError=_useState4[1];var onLogin=function onLogin(){var _route$params2;if(otpInput.current.length===0){setOtpError('Please enter otp.');}else if(otpInput.current!==(route==null?void 0:(_route$params2=route.params)==null?void 0:_route$params2.verification_code)){setOtpError('Please enter correct otp.');}else{var _route$params3;navigation.navigate(navigationStrings.CONFIRMPASSWORD,{email:route==null?void 0:(_route$params3=route.params)==null?void 0:_route$params3.email});}};return _jsxs(View,{style:styles.screen,children:[_jsx(CustomHeader,{theme:theme,headerTitle:\"Verification Code\",onPressBack:function onPressBack(){return navigation.goBack();}}),_jsxs(ScrollView,{style:styles.scrollView,children:[_jsxs(Text,{style:styles.errorText1,children:[\"Enter verification code sent to \",(userDetails==null?void 0:(_userDetails$data=userDetails.data)==null?void 0:(_userDetails$data$per=_userDetails$data.personDetail)==null?void 0:(_userDetails$data$per2=_userDetails$data$per[0])==null?void 0:_userDetails$data$per2.email)||'']}),_jsx(OTPTextView,{ref:function ref(e){return otpInput=e;},autoFocus:true,inputCount:6,inputCellLength:1,textInputStyle:{backgroundColor:'white',width:55,height:70,borderRadius:8,elevation:2,margin:1,fontSize:20,alignItems:'center',marginTop:30,color:'#000'}}),(otpError==null?void 0:otpError.length)>0&&_jsx(Text,{style:styles.errorText,children:otpError})]}),_jsx(View,{style:styles.ConfirmParent,children:_jsx(CustomButton,{theme:theme,onBtnPress:function onBtnPress(){return onLogin();},buttonTitle:Strings.confirm,buttonStyle:styles.confirmBtn,buttonTitleStyle:styles.confirmText})})]});};export default OTPVerify;","map":{"version":3,"names":["React","useRef","useState","ScrollView","Text","View","useRoute","useSelector","OTPTextView","Icons","CustomButton","CustomHeader","MoveMoneyCard","navigationStrings","Strings","Colors","styling","jsx","_jsx","jsxs","_jsxs","OTPVerify","_ref","_route$params","_userDetails$data","_userDetails$data$per","_userDetails$data$per2","navigation","route","theme","params","styles","otpInput","userDetails","state","_state$user","user","login","_useState","_useState2","_slicedToArray","otp","setOtp","_useState3","_useState4","otpError","setOtpError","onLogin","_route$params2","current","length","verification_code","_route$params3","navigate","CONFIRMPASSWORD","email","style","screen","children","headerTitle","onPressBack","goBack","scrollView","errorText1","data","personDetail","ref","e","autoFocus","inputCount","inputCellLength","textInputStyle","backgroundColor","width","height","borderRadius","elevation","margin","fontSize","alignItems","marginTop","color","errorText","ConfirmParent","onBtnPress","buttonTitle","confirm","buttonStyle","confirmBtn","buttonTitleStyle","confirmText"],"sources":["/Users/dhavalpatel/Documents/ExpoApp/src/modules/OTPVerify/index.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { ScrollView, Text, View } from 'react-native';\nimport { useRoute } from '@react-navigation/native';\nimport { useSelector } from 'react-redux';\n// import OtpInputs from 'react-native-otp-inputs';\nimport OTPTextView from 'react-native-otp-textinput';\nimport { Icons } from '../../assets';\nimport { CustomButton, CustomHeader, MoveMoneyCard } from '../../components';\nimport { navigationStrings } from '../../constants';\nimport { Strings } from '../../constants/Strings';\nimport { Colors } from '../../theme';\nimport styling from './styles';\n\nconst OTPVerify = ({ navigation }) => {\n    const route = useRoute();\n    const theme = route?.params?.theme;\n    const styles = styling(theme);\n    let otpInput = useRef(null);\n    const userDetails = useSelector(state => state?.user?.login)\n    const [otp, setOtp] = useState('')\n    const [otpError, setOtpError] = useState('')\n    const onLogin = () => {\n        if (otpInput.current.length === 0) {\n            setOtpError('Please enter otp.')\n        } else if (otpInput.current !== route?.params?.verification_code) {\n            setOtpError('Please enter correct otp.')\n        } else {\n            navigation.navigate(navigationStrings.CONFIRMPASSWORD, { email: route?.params?.email })\n        }\n    }\n    return (\n        <View style={styles.screen}>\n            <CustomHeader\n                theme={theme}\n                headerTitle={\"Verification Code\"}\n                onPressBack={() => navigation.goBack()}\n            />\n            <ScrollView style={styles.scrollView}>\n                <Text style={styles.errorText1}>\n                    Enter verification code sent to {userDetails?.data?.personDetail?.[0]?.email || ''}\n                </Text>\n                {/* <OtpInputs\n                    handleChange={(code) => {\n                        setOtp(code)\n                        setOtpError('')\n                    }}\n                    numberOfInputs={6}\n                    autoFocus\n                    inputStyles={{ backgroundColor: 'white', width: 55, height: 70, borderRadius: 8, elevation: 2, margin: 1, fontSize: 20, alignItems: 'center', marginTop: 30 }}\n                    textAlign='center'\n                /> */}\n                <OTPTextView ref={e => (otpInput = e)} autoFocus={true} inputCount={6} inputCellLength={1} textInputStyle={{ backgroundColor: 'white', width: 55, height: 70, borderRadius: 8, elevation: 2, margin: 1, fontSize: 20, alignItems: 'center', marginTop: 30, color: '#000' }} />\n\n                {otpError?.length > 0 && (\n                    <Text style={styles.errorText}>\n                        {otpError}\n                    </Text>\n                )}\n            </ScrollView>\n            <View style={styles.ConfirmParent}>\n                <CustomButton\n                    theme={theme}\n                    onBtnPress={() => onLogin()}\n                    buttonTitle={Strings.confirm}\n                    buttonStyle={styles.confirmBtn}\n                    buttonTitleStyle={styles.confirmText}\n                />\n            </View>\n        </View>\n    );\n};\n\nexport default OTPVerify;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}