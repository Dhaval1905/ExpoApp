{"ast":null,"code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=useTTree;var _react=require(\"react\");var _ttreeEventsContext=_interopRequireDefault(require(\"../context/ttreeEventsContext\"));var _SharedPropsProvider=require(\"../context/SharedPropsProvider\");var _TRenderEngineProvider=require(\"../TRenderEngineProvider\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function useTTreeChangeEffect(ttree){var _ref=(0,_react.useContext)(_ttreeEventsContext.default),onTTreeChange=_ref.onTTreeChange;var _ref2=(0,_SharedPropsProvider.useSharedProps)(),debug=_ref2.debug;var updateNumber=(0,_react.useRef)(0);(0,_react.useEffect)(function(){onTTreeChange===null||onTTreeChange===void 0?void 0:onTTreeChange.call(null,ttree);if(debug&&typeof __DEV__==='boolean'&&__DEV__){console.info(`Transient Render Tree update ${++updateNumber.current}:\\n${ttree.snapshot({withNodeIndex:false,withStyles:false})}`);}},[ttree,onTTreeChange,debug]);}function useTTree(props){var document=props.document;var trenderEngine=(0,_TRenderEngineProvider.useAmbientTRenderEngine)();var ttree=(0,_react.useMemo)(function(){return typeof document==='string'?trenderEngine.buildTTree(document):trenderEngine.buildTTreeFromDoc(document);},[document,trenderEngine]);useTTreeChangeEffect(ttree);return ttree;}","map":{"version":3,"names":["_react","require","_ttreeEventsContext","_interopRequireDefault","_SharedPropsProvider","_TRenderEngineProvider","useTTreeChangeEffect","ttree","_ref","useContext","default","onTTreeChange","_ref2","useSharedProps","debug","updateNumber","useRef","useEffect","call","__DEV__","console","info","current","snapshot","withNodeIndex","withStyles","useTTree","props","document","trenderEngine","useAmbientTRenderEngine","useMemo","buildTTree","buildTTreeFromDoc"],"sources":["/Users/dhavalpatel/Documents/ExpoApp/node_modules/react-native-render-html/lib/commonjs/hooks/useTTree.ts"],"sourcesContent":["import { useMemo, useEffect, useRef, useContext } from 'react';\nimport ttreeEventsContext from '../context/ttreeEventsContext';\nimport { useSharedProps } from '../context/SharedPropsProvider';\nimport { RenderTTreeProps } from '../internal-types';\nimport { useAmbientTRenderEngine } from '../TRenderEngineProvider';\nimport { TDocument } from '@native-html/transient-render-engine';\n\nfunction useTTreeChangeEffect(ttree: TDocument) {\n  const { onTTreeChange } = useContext(ttreeEventsContext);\n  const { debug } = useSharedProps();\n  const updateNumber = useRef(0);\n  useEffect(() => {\n    onTTreeChange?.call(null, ttree);\n    if (debug && typeof __DEV__ === 'boolean' && __DEV__) {\n      console.info(\n        `Transient Render Tree update ${++updateNumber.current}:\\n${ttree.snapshot(\n          {\n            withNodeIndex: false,\n            withStyles: false\n          }\n        )}`\n      );\n    }\n  }, [ttree, onTTreeChange, debug]);\n}\n\n/**\n * @internal\n */\nexport default function useTTree(props: RenderTTreeProps) {\n  const { document } = props;\n  const trenderEngine = useAmbientTRenderEngine();\n  const ttree = useMemo(\n    () =>\n      typeof document === 'string'\n        ? trenderEngine.buildTTree(document)\n        : trenderEngine.buildTTreeFromDoc(document),\n    [document, trenderEngine]\n  );\n  useTTreeChangeEffect(ttree);\n  return ttree;\n}\n"],"mappings":"+FAAA,IAAAA,MAAA,CAAAC,OAAA,UACA,IAAAC,mBAAA,CAAAC,sBAAA,CAAAF,OAAA,mCACA,IAAAG,oBAAA,CAAAH,OAAA,mCAEA,IAAAI,sBAAA,CAAAJ,OAAA,6B,mFAGA,QAAS,CAAAK,oBAATA,CAA8BC,KAA9B,CAAgD,CAC9C,IAAAC,IAAA,CAA0B,GAAAR,MAAA,CAAAS,UAAA,EAAWP,mBAAA,CAAAQ,OAAX,CAA1B,CAAQC,aAAA,CAAAH,IAAA,CAAAG,aAAA,CACR,IAAAC,KAAA,CAAkB,GAAAR,oBAAA,CAAAS,cAAA,GAAlB,CAAQC,KAAA,CAAAF,KAAA,CAAAE,KAAA,CACR,GAAM,CAAAC,YAAY,CAAG,GAAAf,MAAA,CAAAgB,MAAA,EAAO,CAAP,CAArB,CACA,GAAAhB,MAAA,CAAAiB,SAAA,EAAU,UAAM,CACdN,aAAa,OAAb,EAAAA,aAAa,SAAb,QAAAA,aAAa,CAAEO,IAAf,CAAoB,IAApB,CAA0BX,KAA1B,EACA,GAAIO,KAAK,EAAI,MAAO,CAAAK,OAAP,GAAmB,SAA5B,EAAyCA,OAA7C,CAAsD,CACpDC,OAAO,CAACC,IAAR,CACG,gCAA+B,EAAEN,YAAY,CAACO,OAAQ,MAAKf,KAAK,CAACgB,QAAN,CAC1D,CACEC,aAAa,CAAE,KADjB,CAEEC,UAAU,CAAE,KAFd,CAD0D,CAK1D,EANJ,EAQD,CACF,CAZD,CAYG,CAAClB,KAAD,CAAQI,aAAR,CAAuBG,KAAvB,CAZH,EAaD,CAKc,QAAS,CAAAY,QAATA,CAAkBC,KAAlB,CAA2C,CACxD,GAAQ,CAAAC,QAAA,CAAaD,KAArB,CAAQC,QAAA,CACR,GAAM,CAAAC,aAAa,CAAG,GAAAxB,sBAAA,CAAAyB,uBAAA,GAAtB,CACA,GAAM,CAAAvB,KAAK,CAAG,GAAAP,MAAA,CAAA+B,OAAA,EACZ,iBACE,OAAO,CAAAH,QAAP,GAAoB,QAApB,CACIC,aAAa,CAACG,UAAd,CAAyBJ,QAAzB,CADJ,CAEIC,aAAa,CAACI,iBAAd,CAAgCL,QAAhC,CAJM,GAKZ,CAACA,QAAD,CAAWC,aAAX,CALY,CAAd,CAOAvB,oBAAoB,CAACC,KAAD,CAApB,CACA,MAAO,CAAAA,KAAP,CACD"},"metadata":{},"sourceType":"script","externalDependencies":[]}