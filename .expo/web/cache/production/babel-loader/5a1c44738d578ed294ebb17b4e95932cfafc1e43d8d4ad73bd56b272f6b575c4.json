{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{useRoute}from'@react-navigation/native';import React,{useEffect,useState}from'react';import ImageBackground from\"react-native-web/dist/exports/ImageBackground\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import Image from\"react-native-web/dist/exports/Image\";import{LinearGradient}from'expo-linear-gradient';import{useDispatch,useSelector}from'react-redux';import{Icons,Images}from\"../../assets\";import{DashboardCard}from\"../../components\";import{navigationStrings,Strings}from\"../../constants\";import{getDashBoard,getLicenseDetails,getTransaction1}from\"../../redux/actions/tansaction\";import{showLoader}from\"../../redux/actions/user\";import{Colors}from\"../../theme\";import{ActivationCard,BalancesCard,TransactionCard}from\"./components\";import styling from\"./DashboardStyle\";import DashboardHeader from\"./components/DashboardHeader\";import{changeDashboard}from\"../../redux/actions/initial\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DashboardScreen=function DashboardScreen(_ref){var _route$params,_ref4,_userDetails$data,_userDetails$data$acc,_userDetails$data$acc2,_userDetails$data$acc3,_userDetails$data$acc4,_userDetails$data2,_userDetails$data2$ac,_userDetails$data2$ac2,_userDetails$data2$ac3,_userDetails$data2$ac4;var navigation=_ref.navigation;var route=useRoute();var dispatch=useDispatch();var theme=route==null?void 0:(_route$params=route.params)==null?void 0:_route$params.theme;var styles=styling(theme);var userDetails=useSelector(function(state){var _state$user;return state==null?void 0:(_state$user=state.user)==null?void 0:_state$user.login;});var dashBoardData=useSelector(function(state){var _state$user2;return state==null?void 0:(_state$user2=state.user)==null?void 0:_state$user2.dashBoard;});useEffect(function(){_asyncToGenerator(function*(){var unsubscribe=navigation.addListener('focus',_asyncToGenerator(function*(){yield dispatch(showLoader(true));yield dispatch(getDashBoard());yield dispatch(getLicenseDetails());yield dispatch(showLoader(false));yield dispatch(changeDashboard(false));}));return unsubscribe;})();},[]);var onPress=function onPress(){return(_ref4=_ref4||_asyncToGenerator(function*(){yield dispatch(changeDashboard(true));navigation.navigate(navigationStrings.MOVEMONEY,{isMoveMoney:false});})).apply(this,arguments);};return _jsx(View,{style:styles.screen,children:_jsxs(ScrollView,{style:{flex:1},children:[_jsx(DashboardHeader,{theme:theme,navigation:navigation}),_jsx(View,{style:styles.backgroundImageParent,children:_jsx(View,{style:styles.balanceCardParent,children:_jsx(BalancesCard,{theme:theme,availableBalance:userDetails==null?void 0:(_userDetails$data=userDetails.data)==null?void 0:(_userDetails$data$acc=_userDetails$data.accountDetail)==null?void 0:(_userDetails$data$acc2=_userDetails$data$acc[0])==null?void 0:(_userDetails$data$acc3=_userDetails$data$acc2.balances)==null?void 0:(_userDetails$data$acc4=_userDetails$data$acc3[1])==null?void 0:_userDetails$data$acc4.balance,overallBalance:userDetails==null?void 0:(_userDetails$data2=userDetails.data)==null?void 0:(_userDetails$data2$ac=_userDetails$data2.accountDetail)==null?void 0:(_userDetails$data2$ac2=_userDetails$data2$ac[0])==null?void 0:(_userDetails$data2$ac3=_userDetails$data2$ac2.balances)==null?void 0:(_userDetails$data2$ac4=_userDetails$data2$ac3[0])==null?void 0:_userDetails$data2$ac4.balance})})}),_jsxs(View,{style:styles.cardParent,children:[_jsx(DashboardCard,{theme:theme,title:Strings.fundAccount,subTitle:Strings.addMoneyRethink,navigationText:Strings.wayFund,logo:Icons.bank,logoStyle:styles.logoStyle,onPressNavigationButton:function onPressNavigationButton(){return onPress();}}),_jsx(TransactionCard,{theme:theme,noTrasaction:dashBoardData!=null&&dashBoardData.last_5_transactions_filtered&&(dashBoardData==null?void 0:dashBoardData.last_5_transactions_filtered.length)>0?false:true,title:'Last 5 Transactions'})]})]})});};export default DashboardScreen;","map":{"version":3,"names":["useRoute","React","useEffect","useState","ImageBackground","ScrollView","Text","View","Image","LinearGradient","useDispatch","useSelector","Icons","Images","DashboardCard","navigationStrings","Strings","getDashBoard","getLicenseDetails","getTransaction1","showLoader","Colors","ActivationCard","BalancesCard","TransactionCard","styling","DashboardHeader","changeDashboard","jsx","_jsx","jsxs","_jsxs","DashboardScreen","_ref","_route$params","_ref4","_userDetails$data","_userDetails$data$acc","_userDetails$data$acc2","_userDetails$data$acc3","_userDetails$data$acc4","_userDetails$data2","_userDetails$data2$ac","_userDetails$data2$ac2","_userDetails$data2$ac3","_userDetails$data2$ac4","navigation","route","dispatch","theme","params","styles","userDetails","state","_state$user","user","login","dashBoardData","_state$user2","dashBoard","_asyncToGenerator","unsubscribe","addListener","onPress","navigate","MOVEMONEY","isMoveMoney","apply","arguments","style","screen","children","flex","backgroundImageParent","balanceCardParent","availableBalance","data","accountDetail","balances","balance","overallBalance","cardParent","title","fundAccount","subTitle","addMoneyRethink","navigationText","wayFund","logo","bank","logoStyle","onPressNavigationButton","noTrasaction","last_5_transactions_filtered","length"],"sources":["/Users/dhavalpatel/Documents/ExpoApp/src/modules/Dashboard/DashboardScreen.js"],"sourcesContent":["import { useRoute } from '@react-navigation/native';\nimport React, { useEffect, useState } from 'react';\nimport { ImageBackground, ScrollView, Text, View, Image } from 'react-native';\n// import LinearGradient from 'react-native-linear-gradient';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Icons, Images } from '../../assets';\nimport { DashboardCard } from '../../components';\nimport { navigationStrings, Strings } from '../../constants';\nimport { getDashBoard, getLicenseDetails, getTransaction1 } from '../../redux/actions/tansaction';\nimport { showLoader } from '../../redux/actions/user';\nimport { Colors } from '../../theme';\nimport { ActivationCard, BalancesCard, TransactionCard } from './components';\nimport styling from './DashboardStyle';\nimport DashboardHeader from './components/DashboardHeader';\nimport { changeDashboard } from '../../redux/actions/initial';\n\n\nconst DashboardScreen = ({ navigation }) => {\n  const route = useRoute();\n  const dispatch = useDispatch();\n  const theme = route?.params?.theme;\n  const styles = styling(theme);\n  const userDetails = useSelector(state => state?.user?.login)\n  const dashBoardData = useSelector(state => state?.user?.dashBoard)\n\n  useEffect(() => {\n    (async () => {\n      const unsubscribe = navigation.addListener('focus', async () => {\n        await dispatch(showLoader(true))\n        await dispatch(getDashBoard())\n        await dispatch(getLicenseDetails())\n        await dispatch(showLoader(false))\n        await dispatch(changeDashboard(false))\n      });\n      return unsubscribe;\n    })();\n  }, [])\n\n  const onPress = async () => {\n    await dispatch(changeDashboard(true))\n    navigation.navigate(navigationStrings.MOVEMONEY, { isMoveMoney: false })\n  }\n\n  return (\n    <View style={styles.screen}>\n      <ScrollView style={{ flex: 1 }}>\n        <DashboardHeader theme={theme} navigation={navigation} />\n        <View style={styles.backgroundImageParent}>\n          <View style={styles.balanceCardParent}>\n            <BalancesCard theme={theme} availableBalance={userDetails?.data?.accountDetail?.[0]?.balances?.[1]?.balance} overallBalance={userDetails?.data?.accountDetail?.[0]?.balances?.[0]?.balance} />\n          </View>\n        </View>\n        <View style={styles.cardParent}>\n          <DashboardCard\n            theme={theme}\n            title={Strings.fundAccount}\n            subTitle={Strings.addMoneyRethink}\n            navigationText={Strings.wayFund}\n            logo={Icons.bank}\n            logoStyle={styles.logoStyle}\n            onPressNavigationButton={() => onPress()}\n          // onPressNavigationButton={() => navigation.navigate(navigationStrings.MOVEMONEY,{isMoveMoney:false})}\n          />\n          <TransactionCard theme={theme} noTrasaction={(dashBoardData?.last_5_transactions_filtered && dashBoardData?.last_5_transactions_filtered.length > 0) ? false : true} title={'Last 5 Transactions'} />\n        </View>\n      </ScrollView>\n    </View>\n  );\n};\n\nexport default DashboardScreen;\n"],"mappings":"uEAAA,OAASA,QAAQ,KAAQ,0BAA0B,CACnD,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,eAAA,4DAAAC,UAAA,uDAAAC,IAAA,iDAAAC,IAAA,iDAAAC,KAAA,2CAGnD,OAASC,cAAc,KAAQ,sBAAsB,CACrD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,KAAK,CAAEC,MAAM,oBACtB,OAASC,aAAa,wBACtB,OAASC,iBAAiB,CAAEC,OAAO,uBACnC,OAASC,YAAY,CAAEC,iBAAiB,CAAEC,eAAe,sCACzD,OAASC,UAAU,gCACnB,OAASC,MAAM,mBACf,OAASC,cAAc,CAAEC,YAAY,CAAEC,eAAe,oBACtD,MAAO,CAAAC,OAAO,wBACd,MAAO,CAAAC,eAAe,oCACtB,OAASC,eAAe,mCAAsC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAG9D,GAAM,CAAAC,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAAC,IAAA,CAAuB,KAAAC,aAAA,CAAAC,KAAA,CAAAC,iBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,kBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,IAAjB,CAAAC,UAAU,CAAAb,IAAA,CAAVa,UAAU,CACnC,GAAM,CAAAC,KAAK,CAAG/C,QAAQ,CAAC,CAAC,CACxB,GAAM,CAAAgD,QAAQ,CAAGtC,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAuC,KAAK,CAAGF,KAAK,eAAAb,aAAA,CAALa,KAAK,CAAEG,MAAM,eAAbhB,aAAA,CAAee,KAAK,CAClC,GAAM,CAAAE,MAAM,CAAG1B,OAAO,CAACwB,KAAK,CAAC,CAC7B,GAAM,CAAAG,WAAW,CAAGzC,WAAW,CAAC,SAAA0C,KAAK,MAAAC,WAAA,OAAI,CAAAD,KAAK,eAAAC,WAAA,CAALD,KAAK,CAAEE,IAAI,eAAXD,WAAA,CAAaE,KAAK,GAAC,CAC5D,GAAM,CAAAC,aAAa,CAAG9C,WAAW,CAAC,SAAA0C,KAAK,MAAAK,YAAA,OAAI,CAAAL,KAAK,eAAAK,YAAA,CAALL,KAAK,CAAEE,IAAI,eAAXG,YAAA,CAAaC,SAAS,GAAC,CAElEzD,SAAS,CAAC,UAAM,CACd0D,iBAAA,CAAC,WAAY,CACX,GAAM,CAAAC,WAAW,CAAGf,UAAU,CAACgB,WAAW,CAAC,OAAO,CAAAF,iBAAA,CAAE,WAAY,CAC9D,KAAM,CAAAZ,QAAQ,CAAC5B,UAAU,CAAC,IAAI,CAAC,CAAC,CAChC,KAAM,CAAA4B,QAAQ,CAAC/B,YAAY,CAAC,CAAC,CAAC,CAC9B,KAAM,CAAA+B,QAAQ,CAAC9B,iBAAiB,CAAC,CAAC,CAAC,CACnC,KAAM,CAAA8B,QAAQ,CAAC5B,UAAU,CAAC,KAAK,CAAC,CAAC,CACjC,KAAM,CAAA4B,QAAQ,CAACrB,eAAe,CAAC,KAAK,CAAC,CAAC,CACxC,CAAC,EAAC,CACF,MAAO,CAAAkC,WAAW,CACpB,CAAC,EAAE,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAE,OAAO,SAAP,CAAAA,OAAOA,CAAA,SAAA5B,KAAA,CAAAA,KAAA,EAAAyB,iBAAA,CAAG,WAAY,CAC1B,KAAM,CAAAZ,QAAQ,CAACrB,eAAe,CAAC,IAAI,CAAC,CAAC,CACrCmB,UAAU,CAACkB,QAAQ,CAACjD,iBAAiB,CAACkD,SAAS,CAAE,CAAEC,WAAW,CAAE,KAAM,CAAC,CAAC,CAC1E,CAAC,GAAAC,KAAA,MAAAC,SAAA,IAED,MACE,CAAAvC,IAAA,CAACtB,IAAI,EAAC8D,KAAK,CAAElB,MAAM,CAACmB,MAAO,CAAAC,QAAA,CACzBxC,KAAA,CAAC1B,UAAU,EAACgE,KAAK,CAAE,CAAEG,IAAI,CAAE,CAAE,CAAE,CAAAD,QAAA,EAC7B1C,IAAA,CAACH,eAAe,EAACuB,KAAK,CAAEA,KAAM,CAACH,UAAU,CAAEA,UAAW,CAAE,CAAC,CACzDjB,IAAA,CAACtB,IAAI,EAAC8D,KAAK,CAAElB,MAAM,CAACsB,qBAAsB,CAAAF,QAAA,CACxC1C,IAAA,CAACtB,IAAI,EAAC8D,KAAK,CAAElB,MAAM,CAACuB,iBAAkB,CAAAH,QAAA,CACpC1C,IAAA,CAACN,YAAY,EAAC0B,KAAK,CAAEA,KAAM,CAAC0B,gBAAgB,CAAEvB,WAAW,eAAAhB,iBAAA,CAAXgB,WAAW,CAAEwB,IAAI,gBAAAvC,qBAAA,CAAjBD,iBAAA,CAAmByC,aAAa,gBAAAvC,sBAAA,CAAhCD,qBAAA,CAAmC,CAAC,CAAC,gBAAAE,sBAAA,CAArCD,sBAAA,CAAuCwC,QAAQ,gBAAAtC,sBAAA,CAA/CD,sBAAA,CAAkD,CAAC,CAAC,eAApDC,sBAAA,CAAsDuC,OAAQ,CAACC,cAAc,CAAE5B,WAAW,eAAAX,kBAAA,CAAXW,WAAW,CAAEwB,IAAI,gBAAAlC,qBAAA,CAAjBD,kBAAA,CAAmBoC,aAAa,gBAAAlC,sBAAA,CAAhCD,qBAAA,CAAmC,CAAC,CAAC,gBAAAE,sBAAA,CAArCD,sBAAA,CAAuCmC,QAAQ,gBAAAjC,sBAAA,CAA/CD,sBAAA,CAAkD,CAAC,CAAC,eAApDC,sBAAA,CAAsDkC,OAAQ,CAAE,CAAC,CAC1L,CAAC,CACH,CAAC,CACPhD,KAAA,CAACxB,IAAI,EAAC8D,KAAK,CAAElB,MAAM,CAAC8B,UAAW,CAAAV,QAAA,EAC7B1C,IAAA,CAACf,aAAa,EACZmC,KAAK,CAAEA,KAAM,CACbiC,KAAK,CAAElE,OAAO,CAACmE,WAAY,CAC3BC,QAAQ,CAAEpE,OAAO,CAACqE,eAAgB,CAClCC,cAAc,CAAEtE,OAAO,CAACuE,OAAQ,CAChCC,IAAI,CAAE5E,KAAK,CAAC6E,IAAK,CACjBC,SAAS,CAAEvC,MAAM,CAACuC,SAAU,CAC5BC,uBAAuB,CAAE,SAAAA,wBAAA,QAAM,CAAA5B,OAAO,CAAC,CAAC,EAAC,CAE1C,CAAC,CACFlC,IAAA,CAACL,eAAe,EAACyB,KAAK,CAAEA,KAAM,CAAC2C,YAAY,CAAGnC,aAAa,QAAbA,aAAa,CAAEoC,4BAA4B,EAAI,CAAApC,aAAa,cAAbA,aAAa,CAAEoC,4BAA4B,CAACC,MAAM,EAAG,CAAC,CAAI,KAAK,CAAG,IAAK,CAACZ,KAAK,CAAE,qBAAsB,CAAE,CAAC,EACjM,CAAC,EACG,CAAC,CACT,CAAC,CAEX,CAAC,CAED,cAAe,CAAAlD,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}