{"ast":null,"code":"\"use strict\";var _defineProperty=require(\"@babel/runtime/helpers/defineProperty\");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=buildTREFromConfig;var _transientRenderEngine=_interopRequireDefault(require(\"@native-html/transient-render-engine\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function buildTREFromConfig(props){var allowedStyles=props.allowedStyles,_props$ignoredStyles=props.ignoredStyles,ignoredStyles=_props$ignoredStyles===void 0?[]:_props$ignoredStyles,ignoredDomTags=props.ignoredDomTags,ignoreDomNode=props.ignoreDomNode,domVisitors=props.domVisitors,htmlParserOptions=props.htmlParserOptions,baseStyle=props.baseStyle,classesStyles=props.classesStyles,tagsStyles=props.tagsStyles,idsStyles=props.idsStyles,enableCSSInlineProcessing=props.enableCSSInlineProcessing,enableUserAgentStyles=props.enableUserAgentStyles,_props$systemFonts=props.systemFonts,systemFonts=_props$systemFonts===void 0?[]:_props$systemFonts,_props$fallbackFonts=props.fallbackFonts,fallbackFonts=_props$fallbackFonts===void 0?{}:_props$fallbackFonts,_props$customHTMLElem=props.customHTMLElementModels,customHTMLElementModels=_props$customHTMLElem===void 0?{}:_props$customHTMLElem,emSize=props.emSize,setMarkersForTNode=props.setMarkersForTNode,selectDomRoot=props.selectDomRoot,dangerouslyDisableHoisting=props.dangerouslyDisableHoisting,dangerouslyDisableWhitespaceCollapsing=props.dangerouslyDisableWhitespaceCollapsing;var customizeHTMLModels=Object.keys(customHTMLElementModels).length?function(defaultModels){return _objectSpread(_objectSpread({},defaultModels),customHTMLElementModels);}:undefined;var fontMap={};systemFonts.forEach(function(font){fontMap[font]=true;});var isFontSupported=function isFontSupported(fontFamily){if(fallbackFonts[fontFamily]){return fallbackFonts[fontFamily];}return fontMap[fontFamily]||false;};return new _transientRenderEngine.default({customizeHTMLModels:customizeHTMLModels,cssProcessorConfig:{isFontSupported:isFontSupported,inlinePropertiesBlacklist:ignoredStyles,inlinePropertiesWhitelist:allowedStyles,rootFontSize:emSize},htmlParserOptions:_objectSpread({decodeEntities:true},htmlParserOptions),stylesConfig:{baseStyle:baseStyle,enableCSSInlineProcessing:enableCSSInlineProcessing,enableUserAgentStyles:enableUserAgentStyles,classesStyles:classesStyles,idsStyles:idsStyles,tagsStyles:tagsStyles},ignoredDomTags:ignoredDomTags,ignoreDomNode:ignoreDomNode,domVisitors:domVisitors,setMarkersForTNode:setMarkersForTNode,selectDomRoot:selectDomRoot,dangerouslyDisableHoisting:dangerouslyDisableHoisting,dangerouslyDisableWhitespaceCollapsing:dangerouslyDisableWhitespaceCollapsing});}","map":{"version":3,"names":["_transientRenderEngine","_interopRequireDefault","require","buildTREFromConfig","props","allowedStyles","_props$ignoredStyles","ignoredStyles","ignoredDomTags","ignoreDomNode","domVisitors","htmlParserOptions","baseStyle","classesStyles","tagsStyles","idsStyles","enableCSSInlineProcessing","enableUserAgentStyles","_props$systemFonts","systemFonts","_props$fallbackFonts","fallbackFonts","_props$customHTMLElem","customHTMLElementModels","emSize","setMarkersForTNode","selectDomRoot","dangerouslyDisableHoisting","dangerouslyDisableWhitespaceCollapsing","customizeHTMLModels","Object","keys","length","defaultModels","_objectSpread","undefined","fontMap","forEach","font","isFontSupported","fontFamily","default","cssProcessorConfig","inlinePropertiesBlacklist","inlinePropertiesWhitelist","rootFontSize","decodeEntities","stylesConfig"],"sources":["/Users/dhavalpatel/Documents/ExpoApp/node_modules/react-native-render-html/lib/commonjs/helpers/buildTREFromConfig.ts"],"sourcesContent":["import { TRenderEngineConfig } from '../shared-types';\nimport TRenderEngine, {\n  HTMLModelRecord,\n  TagName\n} from '@native-html/transient-render-engine';\n\n/**\n * Build a {@link TRenderEngine} instance from a configuration object.\n *\n * @remarks This utility can be useful to test and debug the TRE layer of your\n * application.\n *\n * @param props - The configuration from which a TRE should be built.\n */\nexport default function buildTREFromConfig(props: TRenderEngineConfig) {\n  const {\n    allowedStyles,\n    // TODO fix upstream\n    ignoredStyles = [],\n    ignoredDomTags,\n    ignoreDomNode,\n    domVisitors,\n    htmlParserOptions,\n    baseStyle,\n    classesStyles,\n    tagsStyles,\n    idsStyles,\n    enableCSSInlineProcessing,\n    enableUserAgentStyles,\n    systemFonts = [],\n    fallbackFonts = {},\n    customHTMLElementModels = {},\n    emSize,\n    setMarkersForTNode,\n    selectDomRoot,\n    dangerouslyDisableHoisting,\n    dangerouslyDisableWhitespaceCollapsing\n  } = props;\n  const customizeHTMLModels = Object.keys(customHTMLElementModels).length\n    ? (defaultModels: HTMLModelRecord<TagName>): HTMLModelRecord<TagName> => {\n        return { ...defaultModels, ...customHTMLElementModels };\n      }\n    : undefined;\n  const fontMap = {} as Record<string, true>;\n  systemFonts.forEach((font) => {\n    fontMap[font] = true;\n  });\n  const isFontSupported = (fontFamily: string) => {\n    if (fallbackFonts[fontFamily as keyof typeof fallbackFonts]) {\n      return fallbackFonts[fontFamily as keyof typeof fallbackFonts];\n    }\n    /* istanbul ignore next */\n    return fontMap[fontFamily] || false;\n  };\n  return new TRenderEngine({\n    customizeHTMLModels,\n    cssProcessorConfig: {\n      isFontSupported,\n      inlinePropertiesBlacklist: ignoredStyles,\n      inlinePropertiesWhitelist: allowedStyles,\n      rootFontSize: emSize\n    },\n    htmlParserOptions: {\n      decodeEntities: true,\n      ...htmlParserOptions\n    },\n    stylesConfig: {\n      baseStyle,\n      enableCSSInlineProcessing,\n      enableUserAgentStyles,\n      classesStyles,\n      idsStyles,\n      tagsStyles\n    },\n    ignoredDomTags,\n    ignoreDomNode,\n    domVisitors,\n    setMarkersForTNode,\n    selectDomRoot,\n    dangerouslyDisableHoisting,\n    dangerouslyDisableWhitespaceCollapsing\n  });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}