{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{useRoute}from'@react-navigation/native';import React,{useState}from'react';import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import Image from\"react-native-web/dist/exports/Image\";import{showMessage}from'react-native-flash-message';import{TextInput}from'react-native-paper';import{useDispatch}from'react-redux';import{CustomButton,CustomHeader}from\"../../components\";import{navigationStrings,Strings}from\"../../constants\";import{forgotPassWord}from\"../../redux/actions/ach\";import{showLoader}from\"../../redux/actions/user\";import{Colors}from\"../../theme\";import styling from\"./ResetPasswordStyle\";import{Icons}from\"../../assets\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ResetPasswordScreen=function ResetPasswordScreen(_ref){var _route$params,_Strings$resetPasswor,_ref2,_Colors$theme;var navigation=_ref.navigation;var route=useRoute();var theme=route==null?void 0:(_route$params=route.params)==null?void 0:_route$params.theme;var styles=styling(theme);var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),emailError=_useState4[0],setEmailError=_useState4[1];var resetPassword=(_Strings$resetPasswor=Strings.resetPassword)==null?void 0:_Strings$resetPasswor.replace('?','');var onPressHeaderBack=function onPressHeaderBack(){navigation.goBack();};var validation=function validation(){var isValid=false;if(email.length===0){isValid=true;setEmailError('Please enter an email.');}return isValid;};var onLogin=function onLogin(){return(_ref2=_ref2||_asyncToGenerator(function*(){if(!validation()){var _reset_response$data;yield dispatch(showLoader(true));var data={email_or_phone:email};var reset_response=yield forgotPassWord(data);console.log('------res',reset_response==null?void 0:reset_response.data);yield dispatch(showLoader(false));if((reset_response==null?void 0:(_reset_response$data=reset_response.data)==null?void 0:_reset_response$data.status)===1){var _reset_response$data2;navigation.navigate(navigationStrings.OTPVERIFY,{verification_code:reset_response==null?void 0:(_reset_response$data2=reset_response.data)==null?void 0:_reset_response$data2.verification_code,email:email});}else{var _reset_response$data3;showMessage({message:`${reset_response==null?void 0:(_reset_response$data3=reset_response.data)==null?void 0:_reset_response$data3.message}`,type:\"danger\"});}}})).apply(this,arguments);};return _jsxs(View,{style:styles.screen,children:[_jsx(CustomHeader,{theme:theme,headerTitleStyle:styles.headerTitle,headerStyle:styles.header,onPressBack:onPressHeaderBack}),_jsxs(View,{style:styles.container,children:[_jsxs(View,{style:styles.applogoParent,children:[_jsx(Image,{source:Icons.appLogo,style:styles.appLogo,resizeMode:\"contain\"}),_jsx(Text,{style:styles.loginStyle,children:'Reset \\nPassword'})]}),_jsxs(View,{style:styles.card,children:[_jsx(Text,{style:styles.emailQuestion,children:Strings.emailQuestion}),_jsx(TextInput,{mode:'outlined',theme:{roundness:45},label:Strings.email,style:styles.textInput,activeOutlineColor:(_Colors$theme=Colors[theme])==null?void 0:_Colors$theme.black,value:email,onChangeText:function onChangeText(text){setEmailError('');setEmail(text);}}),(emailError==null?void 0:emailError.length)>0&&_jsx(Text,{style:styles.errorText,children:emailError})]}),_jsx(View,{style:styles.ConfirmParent,children:_jsx(CustomButton,{theme:theme,onBtnPress:function onBtnPress(){return onLogin();},buttonTitle:Strings.confirm,buttonStyle:styles.confirmBtn,buttonTitleStyle:styles.confirmText})})]})]});};export default ResetPasswordScreen;","map":{"version":3,"names":["useRoute","React","useState","Text","View","Image","showMessage","TextInput","useDispatch","CustomButton","CustomHeader","navigationStrings","Strings","forgotPassWord","showLoader","Colors","styling","Icons","jsx","_jsx","jsxs","_jsxs","ResetPasswordScreen","_ref","_route$params","_Strings$resetPasswor","_ref2","_Colors$theme","navigation","route","theme","params","styles","dispatch","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","emailError","setEmailError","resetPassword","replace","onPressHeaderBack","goBack","validation","isValid","length","onLogin","_asyncToGenerator","_reset_response$data","data","email_or_phone","reset_response","console","log","status","_reset_response$data2","navigate","OTPVERIFY","verification_code","_reset_response$data3","message","type","apply","arguments","style","screen","children","headerTitleStyle","headerTitle","headerStyle","header","onPressBack","container","applogoParent","source","appLogo","resizeMode","loginStyle","card","emailQuestion","mode","roundness","label","textInput","activeOutlineColor","black","value","onChangeText","text","errorText","ConfirmParent","onBtnPress","buttonTitle","confirm","buttonStyle","confirmBtn","buttonTitleStyle","confirmText"],"sources":["/Users/dhavalpatel/Documents/ExpoApp/src/modules/ResetPassword/ResetPasswordScreen.js"],"sourcesContent":["import { useRoute } from '@react-navigation/native';\nimport React, { useState } from 'react';\nimport { Text, View,Image} from 'react-native';\nimport { showMessage } from 'react-native-flash-message';\nimport { TextInput } from 'react-native-paper';\nimport { useDispatch } from 'react-redux';\nimport { CustomButton, CustomHeader } from '../../components';\nimport { navigationStrings, Strings } from '../../constants';\nimport { forgotPassWord } from '../../redux/actions/ach';\nimport { showLoader } from '../../redux/actions/user';\nimport { Colors } from '../../theme';\nimport styling from './ResetPasswordStyle';\nimport { Icons } from '../../assets';\n\nconst ResetPasswordScreen = ({ navigation }) => {\n  const route = useRoute();\n  const theme = route?.params?.theme;\n  const styles = styling(theme);\n  const dispatch = useDispatch();\n  const [email, setEmail] = useState('')\n  const [emailError, setEmailError] = useState('')\n  const resetPassword = Strings.resetPassword?.replace('?', '');\n  const onPressHeaderBack = () => {\n    navigation.goBack();\n  };\n\n\n  const validation = () => {\n    let isValid = false\n    if (email.length === 0) {\n      isValid = true\n      setEmailError('Please enter an email.')\n    }\n    return isValid\n  }\n  const onLogin = async () => {\n    if (!validation()) {\n      await dispatch(showLoader(true))\n      // await setToken(APP_TOKEN)\n      let data = {\n        email_or_phone: email,\n      }\n      let reset_response = await forgotPassWord(data)\n      console.log('------res', reset_response?.data)\n      await dispatch(showLoader(false))\n      if (reset_response?.data?.status === 1) {\n        navigation.navigate(navigationStrings.OTPVERIFY, { verification_code: reset_response?.data?.verification_code, email: email })\n      } else {\n        showMessage({\n          message: `${reset_response?.data?.message}`,\n          type: \"danger\",\n        });\n      }\n    }\n  }\n  return (\n    <View style={styles.screen}>\n      <CustomHeader\n        theme={theme}\n        // headerTitle={resetPassword}\n        headerTitleStyle={styles.headerTitle}\n        headerStyle={styles.header}\n        onPressBack={onPressHeaderBack}\n      />\n      <View style={styles.container}>\n      <View style={styles.applogoParent}>\n            <Image source={Icons.appLogo} style={styles.appLogo} resizeMode='contain' />\n            <Text style={styles.loginStyle}>{'Reset \\nPassword'}</Text>\n          </View>\n        <View style={styles.card}>\n          <Text style={styles.emailQuestion}>{Strings.emailQuestion}</Text>\n          <TextInput\n            mode={'outlined'}\n            theme={{ roundness: 45, }} \n            label={Strings.email}\n            style={styles.textInput}\n            activeOutlineColor={Colors[theme]?.black}\n            value={email}\n            onChangeText={(text) => {\n              setEmailError('')\n              setEmail(text)\n            }}\n          />\n          {emailError?.length > 0 && (\n            <Text style={styles.errorText}>\n              {emailError}\n            </Text>\n          )}\n        </View>\n        <View style={styles.ConfirmParent}>\n          <CustomButton\n            theme={theme}\n            onBtnPress={() => onLogin()}\n            buttonTitle={Strings.confirm}\n            buttonStyle={styles.confirmBtn}\n            buttonTitleStyle={styles.confirmText}\n          />\n        </View>\n      </View>\n    </View>\n  );\n};\n\nexport default ResetPasswordScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}