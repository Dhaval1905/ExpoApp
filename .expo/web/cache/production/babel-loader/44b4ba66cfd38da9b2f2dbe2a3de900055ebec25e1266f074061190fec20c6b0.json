{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}var DEFAULT_OPTIONS={mediaType:'photo',includeBase64:false,selectionLimit:1};export function camera(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:DEFAULT_OPTIONS;var callback=arguments.length>1?arguments[1]:undefined;return new Promise(function(resolve){var result={errorCode:'camera_unavailable',errorMessage:'launchCamera is not supported for web yet'};if(callback)callback(result);resolve(result);});}export function imageLibrary(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:DEFAULT_OPTIONS;var callback=arguments.length>1?arguments[1]:undefined;if(options.mediaType!=='photo'){var result={errorCode:'others',errorMessage:'For now, only photo mediaType is supported for web'};if(callback)callback(result);return Promise.resolve(result);}var input=document.createElement('input');input.style.display='none';input.setAttribute('type','file');input.setAttribute('accept',getWebMediaType(options.mediaType));if(options.selectionLimit>1){input.setAttribute('multiple','multiple');}document.body.appendChild(input);return new Promise(function(resolve){input.addEventListener('change',_asyncToGenerator(function*(){if(input.files){if(options.selectionLimit<=1){var img=yield readFile(input.files[0],{includeBase64:options.includeBase64});var _result={assets:[img]};if(callback)callback(_result);resolve(_result);}else{var imgs=yield Promise.all(Array.from(input.files).map(function(file){return readFile(file,{includeBase64:options.includeBase64});}));var _result2={didCancel:false,assets:imgs};if(callback)callback(_result2);resolve(_result2);}}document.body.removeChild(input);}));var event=new MouseEvent('click');input.dispatchEvent(event);});}function readFile(targetFile,options){return new Promise(function(resolve,reject){var reader=new FileReader();reader.onerror=function(){reject(new Error(`Failed to read the selected media because the operation failed.`));};reader.onload=function(_ref2){var target=_ref2.target;var uri=target==null?void 0:target.result;var returnRaw=function returnRaw(){return resolve({uri:uri,width:0,height:0});};if(typeof uri==='string'){var image=new Image();image.src=uri;image.onload=function(){var _image$naturalWidth,_image$naturalHeight;return resolve(_objectSpread({uri:uri,width:(_image$naturalWidth=image.naturalWidth)!=null?_image$naturalWidth:image.width,height:(_image$naturalHeight=image.naturalHeight)!=null?_image$naturalHeight:image.height},options.includeBase64&&{base64:uri.substr(uri.indexOf(',')+1)}));};image.onerror=function(){return returnRaw();};}else{returnRaw();}};reader.readAsDataURL(targetFile);});}function getWebMediaType(mediaType){var _webMediaTypes$mediaT;var webMediaTypes={photo:'image/*',video:'video/*',mixed:'image/*,video/*'};return(_webMediaTypes$mediaT=webMediaTypes[mediaType])!=null?_webMediaTypes$mediaT:webMediaTypes.photo;}","map":{"version":3,"names":["DEFAULT_OPTIONS","mediaType","includeBase64","selectionLimit","camera","options","arguments","length","undefined","callback","Promise","resolve","result","errorCode","errorMessage","imageLibrary","input","document","createElement","style","display","setAttribute","getWebMediaType","body","appendChild","addEventListener","_asyncToGenerator","files","img","readFile","assets","imgs","all","Array","from","map","file","didCancel","removeChild","event","MouseEvent","dispatchEvent","targetFile","reject","reader","FileReader","onerror","Error","onload","_ref2","target","uri","returnRaw","width","height","image","Image","src","_image$naturalWidth","_image$naturalHeight","_objectSpread","naturalWidth","naturalHeight","base64","substr","indexOf","readAsDataURL","_webMediaTypes$mediaT","webMediaTypes","photo","video","mixed"],"sources":["/Users/dhavalpatel/Documents/ExpoApp/node_modules/react-native-image-picker/src/platforms/web.ts"],"sourcesContent":["import {\n  CameraOptions,\n  ImageLibraryOptions,\n  Callback,\n  ImagePickerResponse,\n  ErrorCode,\n  Asset,\n  MediaType,\n} from '../types';\n\nconst DEFAULT_OPTIONS: Pick<\n  ImageLibraryOptions & CameraOptions,\n  'mediaType' | 'includeBase64' | 'selectionLimit'\n> = {\n  mediaType: 'photo',\n  includeBase64: false,\n  selectionLimit: 1,\n};\n\nexport function camera(\n  options: ImageLibraryOptions = DEFAULT_OPTIONS,\n  callback?: Callback,\n): Promise<ImagePickerResponse> {\n  return new Promise((resolve) => {\n    const result = {\n      errorCode: 'camera_unavailable' as ErrorCode,\n      errorMessage: 'launchCamera is not supported for web yet',\n    };\n\n    if (callback) callback(result);\n\n    resolve(result);\n  });\n}\n\nexport function imageLibrary(\n  options: ImageLibraryOptions = DEFAULT_OPTIONS,\n  callback?: Callback,\n): Promise<ImagePickerResponse> {\n  // Only supporting 'photo' mediaType for now.\n  if (options.mediaType !== 'photo') {\n    const result = {\n      errorCode: 'others' as ErrorCode,\n      errorMessage: 'For now, only photo mediaType is supported for web',\n    };\n\n    if (callback) callback(result);\n\n    return Promise.resolve(result);\n  }\n\n  const input = document.createElement('input');\n  input.style.display = 'none';\n  input.setAttribute('type', 'file');\n  input.setAttribute('accept', getWebMediaType(options.mediaType));\n\n  if (options.selectionLimit! > 1) {\n    input.setAttribute('multiple', 'multiple');\n  }\n\n  document.body.appendChild(input);\n\n  return new Promise((resolve) => {\n    input.addEventListener('change', async () => {\n      if (input.files) {\n        if (options.selectionLimit! <= 1) {\n          const img = await readFile(input.files[0], {\n            includeBase64: options.includeBase64,\n          });\n\n          const result = {assets: [img]};\n\n          if (callback) callback(result);\n\n          resolve(result);\n        } else {\n          const imgs = await Promise.all(\n            Array.from(input.files).map((file) =>\n              readFile(file, {includeBase64: options.includeBase64}),\n            ),\n          );\n\n          const result = {\n            didCancel: false,\n            assets: imgs,\n          };\n\n          if (callback) callback(result);\n\n          resolve(result);\n        }\n      }\n      document.body.removeChild(input);\n    });\n\n    const event = new MouseEvent('click');\n    input.dispatchEvent(event);\n  });\n}\n\nfunction readFile(\n  targetFile: Blob,\n  options: Partial<ImageLibraryOptions>,\n): Promise<Asset> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onerror = () => {\n      reject(\n        new Error(\n          `Failed to read the selected media because the operation failed.`,\n        ),\n      );\n    };\n    reader.onload = ({target}) => {\n      const uri = target?.result;\n\n      const returnRaw = () =>\n        resolve({\n          uri: uri as string,\n          width: 0,\n          height: 0,\n        });\n\n      if (typeof uri === 'string') {\n        const image = new Image();\n        image.src = uri;\n        image.onload = () =>\n          resolve({\n            uri,\n            width: image.naturalWidth ?? image.width,\n            height: image.naturalHeight ?? image.height,\n            // The blob's result cannot be directly decoded as Base64 without\n            // first removing the Data-URL declaration preceding the\n            // Base64-encoded data. To retrieve only the Base64 encoded string,\n            // first remove data:*/*;base64, from the result.\n            // https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n            ...(options.includeBase64 && {\n              base64: uri.substr(uri.indexOf(',') + 1),\n            }),\n          });\n        image.onerror = () => returnRaw();\n      } else {\n        returnRaw();\n      }\n    };\n\n    reader.readAsDataURL(targetFile);\n  });\n}\n\nfunction getWebMediaType(mediaType: MediaType) {\n  const webMediaTypes = {\n    photo: 'image/*',\n    video: 'video/*',\n    mixed: 'image/*,video/*',\n  };\n\n  return webMediaTypes[mediaType] ?? webMediaTypes.photo;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}