{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{useRoute}from'@react-navigation/native';import React,{useState}from'react';import Image from\"react-native-web/dist/exports/Image\";import Text from\"react-native-web/dist/exports/Text\";import TextInput from\"react-native-web/dist/exports/TextInput\";import View from\"react-native-web/dist/exports/View\";import{CustomButton,CustomHeader}from\"../../components\";import{navigationStrings,Strings}from\"../../constants\";import styling from\"./SupportTicketStyle\";import{horizontalScale}from\"../../theme\";import{useDispatch}from'react-redux';import{showLoader}from\"../../redux/actions/user\";import{showMessage}from'react-native-flash-message';import{supportTicketCreate}from\"../../redux/actions/ach\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SupportTicket=function SupportTicket(_ref){var _route$params,_ref2;var navigation=_ref.navigation;var route=useRoute();var theme=route==null?void 0:(_route$params=route.params)==null?void 0:_route$params.theme;var styles=styling(theme);var dispatch=useDispatch();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isDisable=_useState2[0],setIsDisable=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),subject=_useState4[0],setSubject=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),subjectError=_useState6[0],setSubjectError=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),msg=_useState8[0],setMsg=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),msgError=_useState10[0],setMsgError=_useState10[1];var validation=function validation(){var isValid=false;if(subject.length===0){isValid=true;setSubjectError('Please enter subject.');}if(msg.length===0){isValid=true;setMsgError('Please enter message.');}return isValid;};submitTicket=function submitTicket(){return(_ref2=_ref2||_asyncToGenerator(function*(){if(!validation()){yield dispatch(showLoader(true));var data={title:subject,description:msg};var supportRes=yield supportTicketCreate(data);console.log('-supportRes',supportRes);yield dispatch(showLoader(false));if((supportRes==null?void 0:supportRes.status)===1){showMessage({message:`your request submited successfully!get back you in 2 or 3 business days`,type:\"success\"});navigation.goBack();}else{showMessage({message:`${supportRes==null?void 0:supportRes.message}`,type:\"danger\"});}}})).apply(this,arguments);};return _jsxs(View,{style:styles.screen,children:[_jsx(CustomHeader,{theme:theme,headerTitle:\"Support Tickets\",onPressBack:function onPressBack(){return navigation.goBack();}}),_jsxs(View,{style:styles.container,children:[_jsxs(View,{style:styles.card,children:[_jsx(Text,{style:styles.textStyle,children:\"Hello, I'm having trouble navigating the site and finding the information I need. Can you assist me\"}),_jsx(TextInput,{placeholder:\"Subject\",placeholderTextColor:\"#A8A8A8\",style:[styles.textInput,{marginTop:horizontalScale(26)}],onChangeText:function onChangeText(val){setSubject(val);setSubjectError('');}}),(subjectError==null?void 0:subjectError.length)>0&&_jsx(Text,{style:styles.errorText,children:subjectError})]}),_jsxs(View,{style:[styles.card,{marginTop:horizontalScale(10)}],children:[_jsx(TextInput,{placeholder:\"Write your message\",multiline:true,numberOfLines:4,placeholderTextColor:\"#A8A8A8\",style:[styles.textInput,{height:horizontalScale(120),textAlignVertical:'top',borderWidth:0}],onChangeText:function onChangeText(val){setMsg(val);setMsgError('');}}),(msgError==null?void 0:msgError.length)>0&&_jsx(Text,{style:styles.errorText,children:msgError})]})]}),_jsx(CustomButton,{theme:theme,buttonTitle:\"Send\",buttonTitleStyle:styles.continue,buttonStyle:[styles.continueButtonStyle],onBtnPress:function onBtnPress(){submitTicket();}})]});};export default SupportTicket;","map":{"version":3,"names":["useRoute","React","useState","Image","Text","TextInput","View","CustomButton","CustomHeader","navigationStrings","Strings","styling","horizontalScale","useDispatch","showLoader","showMessage","supportTicketCreate","jsx","_jsx","jsxs","_jsxs","SupportTicket","_ref","_route$params","_ref2","navigation","route","theme","params","styles","dispatch","_useState","_useState2","_slicedToArray","isDisable","setIsDisable","_useState3","_useState4","subject","setSubject","_useState5","_useState6","subjectError","setSubjectError","_useState7","_useState8","msg","setMsg","_useState9","_useState10","msgError","setMsgError","validation","isValid","length","submitTicket","_asyncToGenerator","data","title","description","supportRes","console","log","status","message","type","goBack","apply","arguments","style","screen","children","headerTitle","onPressBack","container","card","textStyle","placeholder","placeholderTextColor","textInput","marginTop","onChangeText","val","errorText","multiline","numberOfLines","height","textAlignVertical","borderWidth","buttonTitle","buttonTitleStyle","continue","buttonStyle","continueButtonStyle","onBtnPress"],"sources":["/Users/dhavalpatel/Documents/ExpoApp/src/modules/SupportTicket/SupportTicket.js"],"sourcesContent":["import {useRoute} from '@react-navigation/native';\nimport React, {useState} from 'react';\nimport {Image, Text, TextInput, View} from 'react-native';\nimport {CustomButton, CustomHeader} from '../../components';\nimport {navigationStrings, Strings} from '../../constants';\nimport styling from './SupportTicketStyle';\nimport { horizontalScale } from '../../theme';\nimport { useDispatch } from 'react-redux';\nimport { showLoader } from '../../redux/actions/user';\nimport { showMessage } from 'react-native-flash-message';\nimport { supportTicketCreate } from '../../redux/actions/ach';\n\nconst SupportTicket = ({navigation}) => {\n  const route = useRoute();\n  const theme = route?.params?.theme;\n  const styles = styling(theme);\nconst dispatch=useDispatch()\n  const [isDisable, setIsDisable] = useState(true);\n  const [subject, setSubject] = useState(\"\");\n  const [subjectError, setSubjectError] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n  const [msgError, setMsgError] = useState(\"\");\n\n  const validation = () => {\n    let isValid = false\n    if (subject.length === 0) {\n      isValid = true\n      setSubjectError('Please enter subject.')\n    }\n    if (msg.length === 0) {\n      isValid = true\n      setMsgError('Please enter message.')\n    }\n    return isValid\n  }\n\n  submitTicket=async()=>{\n    if (!validation()) {\n      await dispatch(showLoader(true))\n      let data = {\n        title:subject,\n        description:msg\n      }\n      let supportRes = await supportTicketCreate(data)\n      console.log('-supportRes',supportRes)\n      await dispatch(showLoader(false))\n      if (supportRes?.status === 1) {\n        showMessage({\n          message: `your request submited successfully!get back you in 2 or 3 business days`,\n          type: \"success\",\n        });\n      navigation.goBack()\n      }else {\n        showMessage({\n          message: `${supportRes?.message}`,\n          type: \"danger\",\n        });\n      }\n    }\n  }\n  return (\n    <View style={styles.screen}>\n      <CustomHeader\n        theme={theme}\n        headerTitle={\"Support Tickets\"}\n        onPressBack={() => navigation.goBack()}\n      />\n      <View style={styles.container}>\n        <View style={styles.card}>\n          <Text style={styles.textStyle}>{\"Hello, I'm having trouble navigating the site and finding the information I need. Can you assist me\"}</Text>\n          <TextInput\n          placeholder={\"Subject\"}\n          placeholderTextColor={\"#A8A8A8\"}\n      style={[styles.textInput,{marginTop:horizontalScale(26)}]}\n            onChangeText={val => {\n            setSubject(val)\n            setSubjectError('')\n            }}\n          />\n           {subjectError?.length > 0 && (\n            <Text style={styles.errorText}>\n              {subjectError}\n            </Text>\n          )}\n        </View>\n        <View style={[styles.card,{marginTop:horizontalScale(10)}]}>\n          <TextInput\n          placeholder={\"Write your message\"}\n          multiline\n          numberOfLines={4}\n          placeholderTextColor={\"#A8A8A8\"}\n            style={[styles.textInput,{height:horizontalScale(120),textAlignVertical:'top',borderWidth:0}]}\n            onChangeText={val => {\n              setMsg(val)\n              setMsgError('')\n              }}\n          />\n             {msgError?.length > 0 && (\n            <Text style={styles.errorText}>\n              {msgError}\n            </Text>\n          )}\n        </View>\n      </View>\n      <CustomButton\n        theme={theme}\n        // buttonDisable={isDisable}\n        buttonTitle={\"Send\"}\n        buttonTitleStyle={styles.continue}\n        buttonStyle={[\n          styles.continueButtonStyle,\n        ]}\n        onBtnPress={() => {\n          submitTicket()\n        }}\n      />\n    </View>\n  );\n};\n\nexport default SupportTicket;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}