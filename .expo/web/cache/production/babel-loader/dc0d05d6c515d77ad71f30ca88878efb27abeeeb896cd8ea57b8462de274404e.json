{"ast":null,"code":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=useImageSpecifiedDimensions;var _react=require(\"react\");var _getDimensionsWithAspectRatio=_interopRequireDefault(require(\"./getDimensionsWithAspectRatio\"));var _reactNative=require(\"react-native-web/dist/index\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function normalizeSize(dimension,options){var containerDimension=options.containerDimension||null;var enablePercentWidth=options.enablePercentWidth||false;if(dimension===null||dimension===undefined||Number.isNaN(dimension)){return null;}if(typeof dimension==='number'){return dimension;}if(dimension.search('%')!==-1&&enablePercentWidth&&typeof containerDimension==='number'){return parseFloat(dimension)*containerDimension/100;}else if(dimension.trim().match(/^[\\d.]+$/)){return parseFloat(dimension);}return null;}function deriveSpecifiedDimensionsFromProps(_ref){var width=_ref.width,height=_ref.height,contentWidth=_ref.contentWidth,flatStyle=_ref.flatStyle,enablePercentWidth=_ref.enableExperimentalPercentWidth;var normalizeOptionsWidth={enablePercentWidth:enablePercentWidth,containerDimension:contentWidth};var normalizeOptionsHeight={enablePercentWidth:false};var widthProp=normalizeSize(width,normalizeOptionsWidth);var heightProp=normalizeSize(height,normalizeOptionsHeight);var styleWidth=normalizeSize(flatStyle.width,normalizeOptionsWidth);var styleHeight=normalizeSize(flatStyle.height,normalizeOptionsHeight);return(0,_getDimensionsWithAspectRatio.default)(styleWidth!==null&&styleWidth!==void 0?styleWidth:widthProp,styleHeight!==null&&styleHeight!==void 0?styleHeight:heightProp,flatStyle.aspectRatio);}function useImageSpecifiedDimensions(props){var contentWidth=props.contentWidth,enableExperimentalPercentWidth=props.enableExperimentalPercentWidth,style=props.style,width=props.width,height=props.height;var flatStyle=(0,_react.useMemo)(function(){return _reactNative.StyleSheet.flatten(style)||{};},[style]);var specifiedDimensions=(0,_react.useMemo)(function(){return deriveSpecifiedDimensionsFromProps({contentWidth:contentWidth,enableExperimentalPercentWidth:enableExperimentalPercentWidth,width:width,height:height,flatStyle:flatStyle});},[contentWidth,enableExperimentalPercentWidth,flatStyle,height,width]);return{flatStyle:flatStyle,specifiedDimensions:specifiedDimensions};}","map":{"version":3,"names":["_react","require","_getDimensionsWithAspectRatio","_interopRequireDefault","_reactNative","normalizeSize","dimension","options","containerDimension","enablePercentWidth","undefined","Number","isNaN","search","parseFloat","trim","match","deriveSpecifiedDimensionsFromProps","_ref","width","height","contentWidth","flatStyle","enableExperimentalPercentWidth","normalizeOptionsWidth","normalizeOptionsHeight","widthProp","heightProp","styleWidth","styleHeight","default","aspectRatio","useImageSpecifiedDimensions","props","style","useMemo","StyleSheet","flatten","specifiedDimensions"],"sources":["/Users/dhavalpatel/Documents/ExpoApp/node_modules/react-native-render-html/lib/commonjs/elements/useImageSpecifiedDimensions.ts"],"sourcesContent":["import { useMemo } from 'react';\nimport {\n  UseIMGElementStateProps,\n  IncompleteImageDimensions\n} from './img-types';\nimport getDimensionsWithAspectRatio from './getDimensionsWithAspectRatio';\nimport { StyleSheet } from 'react-native';\n\nfunction normalizeSize(\n  dimension: string | number | null | undefined,\n  options: Partial<{\n    containerDimension: number | null;\n    enablePercentWidth: boolean;\n  }>\n) {\n  const containerDimension = options.containerDimension || null;\n  const enablePercentWidth = options.enablePercentWidth || false;\n  if (\n    dimension === null ||\n    dimension === undefined ||\n    Number.isNaN(dimension)\n  ) {\n    return null;\n  }\n  if (typeof dimension === 'number') {\n    return dimension;\n  }\n  if (\n    dimension.search('%') !== -1 &&\n    enablePercentWidth &&\n    typeof containerDimension === 'number'\n  ) {\n    return (parseFloat(dimension) * containerDimension) / 100;\n  } else if (dimension.trim().match(/^[\\d.]+$/)) {\n    return parseFloat(dimension);\n  }\n  return null;\n}\n\n/**\n * Extract specified dimensions from props.\n */\nfunction deriveSpecifiedDimensionsFromProps({\n  width,\n  height,\n  contentWidth,\n  flatStyle,\n  enableExperimentalPercentWidth: enablePercentWidth\n}: Pick<\n  UseIMGElementStateProps,\n  'width' | 'height' | 'contentWidth' | 'enableExperimentalPercentWidth'\n> & { flatStyle: Record<string, any> }): IncompleteImageDimensions {\n  const normalizeOptionsWidth = {\n    enablePercentWidth,\n    containerDimension: contentWidth\n  };\n  const normalizeOptionsHeight = {\n    enablePercentWidth: false\n  };\n  const widthProp = normalizeSize(width, normalizeOptionsWidth);\n  const heightProp = normalizeSize(height, normalizeOptionsHeight);\n  const styleWidth = normalizeSize(flatStyle.width, normalizeOptionsWidth);\n  const styleHeight = normalizeSize(flatStyle.height, normalizeOptionsHeight);\n  return getDimensionsWithAspectRatio(\n    styleWidth ?? widthProp,\n    styleHeight ?? heightProp,\n    flatStyle.aspectRatio\n  );\n}\n\nexport default function useImageSpecifiedDimensions(\n  props: UseIMGElementStateProps\n) {\n  const { contentWidth, enableExperimentalPercentWidth, style, width, height } =\n    props;\n  const flatStyle = useMemo(() => StyleSheet.flatten(style) || {}, [style]);\n  const specifiedDimensions = useMemo(\n    () =>\n      deriveSpecifiedDimensionsFromProps({\n        contentWidth,\n        enableExperimentalPercentWidth,\n        width,\n        height,\n        flatStyle\n      }),\n    [contentWidth, enableExperimentalPercentWidth, flatStyle, height, width]\n  );\n  return { flatStyle, specifiedDimensions };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}