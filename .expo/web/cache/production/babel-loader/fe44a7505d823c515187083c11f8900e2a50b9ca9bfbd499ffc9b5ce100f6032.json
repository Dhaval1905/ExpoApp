{"ast":null,"code":"var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value);});}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value));}catch(e){reject(e);}}function rejected(value){try{step(generator[\"throw\"](value));}catch(e){reject(e);}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected);}step((generator=generator.apply(thisArg,_arguments||[])).next());});};import React,{useEffect}from'react';import NativeEventEmitter from\"react-native-web/dist/exports/NativeEventEmitter\";import NativeModules from\"react-native-web/dist/exports/NativeModules\";import Platform from\"react-native-web/dist/exports/Platform\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import{LinkIOSPresentationStyle}from\"./Types\";import{jsx as _jsx}from\"react/jsx-runtime\";export var usePlaidEmitter=function usePlaidEmitter(LinkEventListener){useEffect(function(){var emitter=new NativeEventEmitter(Platform.OS==='ios'?NativeModules.RNLinksdk:NativeModules.PlaidAndroid);var listener=emitter.addListener('onEvent',LinkEventListener);return function cleanup(){listener.remove();};},[]);};export var openLink=function openLink(props){return __awaiter(void 0,void 0,void 0,function*(){if(props.tokenConfig==null){console.log('The public_key is being deprecated. Learn how to upgrade to link_tokens at https://plaid.com/docs/link-token-migration-guide/');}var config=props.tokenConfig?props.tokenConfig:props.publicKeyConfig;if(Platform.OS==='android'){NativeModules.PlaidAndroid.startLinkActivityForResult(JSON.stringify(config),function(result){if(props.onSuccess!=null){props.onSuccess(result);}},function(result){if(props.onExit!=null){if(result.error!=null&&result.error.displayMessage!=null){result.error.errorDisplayMessage=result.error.displayMessage;}props.onExit(result);}});}else{NativeModules.RNLinksdk.create(config);var presentFullScreen=props.iOSPresentationStyle==LinkIOSPresentationStyle.FULL_SCREEN;NativeModules.RNLinksdk.open(presentFullScreen,function(result){if(props.onSuccess!=null){props.onSuccess(result);}},function(error,result){if(props.onExit!=null){if(error){var data=result||{};data.error=error;props.onExit(data);}else{props.onExit(result);}}});}});};export var dismissLink=function dismissLink(){if(Platform.OS==='ios'){NativeModules.RNLinksdk.dismiss();}};export var PlaidLink=function PlaidLink(props){function onPress(){var _a;(_a=props.onPress)===null||_a===void 0?void 0:_a.call(props);openLink(props);}return _jsx(TouchableOpacity,{onPress:onPress,children:props.children});};","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","React","useEffect","NativeEventEmitter","NativeModules","Platform","TouchableOpacity","LinkIOSPresentationStyle","jsx","_jsx","usePlaidEmitter","LinkEventListener","emitter","OS","RNLinksdk","PlaidAndroid","listener","addListener","cleanup","remove","openLink","props","tokenConfig","console","log","config","publicKeyConfig","startLinkActivityForResult","JSON","stringify","onSuccess","onExit","error","displayMessage","errorDisplayMessage","create","presentFullScreen","iOSPresentationStyle","FULL_SCREEN","open","data","dismissLink","dismiss","PlaidLink","onPress","_a","call","children"],"sources":["/Users/dhavalpatel/Documents/ExpoApp/node_modules/react-native-plaid-link-sdk/dist/PlaidLink.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport React, { useEffect } from 'react';\nimport { NativeEventEmitter, NativeModules, Platform, TouchableOpacity, } from 'react-native';\nimport { LinkIOSPresentationStyle, } from './Types';\n/**\n * A hook that registers a listener on the Plaid emitter for the 'onEvent' type.\n * The listener is cleaned up when this view is unmounted\n *\n * @param LinkEventListener the listener to call\n */\nexport const usePlaidEmitter = (LinkEventListener) => {\n    useEffect(() => {\n        const emitter = new NativeEventEmitter(Platform.OS === 'ios'\n            ? NativeModules.RNLinksdk\n            : NativeModules.PlaidAndroid);\n        const listener = emitter.addListener('onEvent', LinkEventListener);\n        // Clean up after this effect:\n        return function cleanup() {\n            listener.remove();\n        };\n    }, []);\n};\nexport const openLink = (props) => __awaiter(void 0, void 0, void 0, function* () {\n    if (props.tokenConfig == null) {\n        console.log('The public_key is being deprecated. Learn how to upgrade to link_tokens at https://plaid.com/docs/link-token-migration-guide/');\n    }\n    let config = props.tokenConfig ? props.tokenConfig : props.publicKeyConfig;\n    if (Platform.OS === 'android') {\n        NativeModules.PlaidAndroid.startLinkActivityForResult(JSON.stringify(config), (result) => {\n            if (props.onSuccess != null) {\n                props.onSuccess(result);\n            }\n        }, (result) => {\n            if (props.onExit != null) {\n                if (result.error != null && result.error.displayMessage != null) {\n                    //TODO(RNSDK-118): Remove errorDisplayMessage field in next major update.\n                    result.error.errorDisplayMessage = result.error.displayMessage;\n                }\n                props.onExit(result);\n            }\n        });\n    }\n    else {\n        NativeModules.RNLinksdk.create(config);\n        let presentFullScreen = props.iOSPresentationStyle == LinkIOSPresentationStyle.FULL_SCREEN;\n        NativeModules.RNLinksdk.open(presentFullScreen, (result) => {\n            if (props.onSuccess != null) {\n                props.onSuccess(result);\n            }\n        }, (error, result) => {\n            if (props.onExit != null) {\n                if (error) {\n                    var data = result || {};\n                    data.error = error;\n                    props.onExit(data);\n                }\n                else {\n                    props.onExit(result);\n                }\n            }\n        });\n    }\n});\nexport const dismissLink = () => {\n    if (Platform.OS === 'ios') {\n        NativeModules.RNLinksdk.dismiss();\n    }\n};\nexport const PlaidLink = (props) => {\n    function onPress() {\n        var _a;\n        (_a = props.onPress) === null || _a === void 0 ? void 0 : _a.call(props);\n        openLink(props);\n    }\n    return <TouchableOpacity onPress={onPress}>{props.children}</TouchableOpacity>;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}