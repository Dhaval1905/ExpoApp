{"ast":null,"code":"\"use strict\";var _defineProperty=require(\"@babel/runtime/helpers/defineProperty\");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=useIMGNormalizedSource;var _react=require(\"react\");var _SharedPropsProvider=require(\"../context/SharedPropsProvider\");function useIMGNormalizedSource(_ref){var source=_ref.source,specifiedDimensions=_ref.specifiedDimensions;var cachedDimensions=(0,_react.useRef)(specifiedDimensions);var _ref2=(0,_SharedPropsProvider.useSharedProps)(),provideEmbeddedHeaders=_ref2.provideEmbeddedHeaders;return(0,_react.useMemo)(function(){if(source.uri&&typeof provideEmbeddedHeaders==='function'){var _cachedDimensions$cur,_cachedDimensions$cur2;var headers=provideEmbeddedHeaders(source.uri,'img',{printWidth:((_cachedDimensions$cur=cachedDimensions.current)===null||_cachedDimensions$cur===void 0?void 0:_cachedDimensions$cur.width)||undefined,printHeight:((_cachedDimensions$cur2=cachedDimensions.current)===null||_cachedDimensions$cur2===void 0?void 0:_cachedDimensions$cur2.height)||undefined});if(headers){return _objectSpread({headers:headers},source);}}return source;},[provideEmbeddedHeaders,source]);}","map":{"version":3,"names":["_react","require","_SharedPropsProvider","useIMGNormalizedSource","_ref","source","specifiedDimensions","cachedDimensions","useRef","_ref2","useSharedProps","provideEmbeddedHeaders","useMemo","uri","_cachedDimensions$cur","_cachedDimensions$cur2","headers","printWidth","current","width","undefined","printHeight","height","_objectSpread"],"sources":["/Users/dhavalpatel/Documents/ExpoApp/node_modules/react-native-render-html/lib/commonjs/elements/useIMGNormalizedSource.ts"],"sourcesContent":["import { useMemo, useRef } from 'react';\nimport { useSharedProps } from '../context/SharedPropsProvider';\nimport {\n  IncompleteImageDimensions,\n  UseIMGElementStateProps\n} from './img-types';\n\nexport default function useIMGNormalizedSource({\n  source,\n  specifiedDimensions\n}: Pick<UseIMGElementStateProps, 'source'> & {\n  specifiedDimensions: IncompleteImageDimensions;\n}) {\n  const cachedDimensions = useRef(specifiedDimensions);\n  const { provideEmbeddedHeaders } = useSharedProps();\n  return useMemo(() => {\n    if (source.uri && typeof provideEmbeddedHeaders === 'function') {\n      const headers = provideEmbeddedHeaders(source.uri, 'img', {\n        printWidth: cachedDimensions.current?.width || undefined,\n        printHeight: cachedDimensions.current?.height || undefined\n      });\n      if (headers) {\n        return {\n          headers,\n          ...source\n        };\n      }\n    }\n    return source;\n  }, [provideEmbeddedHeaders, source]);\n}\n"],"mappings":"8xBAAA,IAAAA,MAAA,CAAAC,OAAA,UACA,IAAAC,oBAAA,CAAAD,OAAA,mCAMe,QAAS,CAAAE,sBAATA,CAAAC,IAAA,CAKZ,IAJD,CAAAC,MAD6C,CAAAD,IAAA,CAC7CC,MAD6C,CAE7CC,mBAAA,CAAAF,IAAA,CAAAE,mBAAA,CAIA,GAAM,CAAAC,gBAAgB,CAAG,GAAAP,MAAA,CAAAQ,MAAA,EAAOF,mBAAP,CAAzB,CACA,IAAAG,KAAA,CAAmC,GAAAP,oBAAA,CAAAQ,cAAA,GAAnC,CAAQC,sBAAA,CAAAF,KAAA,CAAAE,sBAAA,CACR,MAAO,GAAAX,MAAA,CAAAY,OAAA,EAAQ,UAAM,CACnB,GAAIP,MAAM,CAACQ,GAAP,EAAc,MAAO,CAAAF,sBAAP,GAAkC,UAApD,CAAgE,KAAAG,qBAAA,CAAAC,sBAAA,CAC9D,GAAM,CAAAC,OAAO,CAAGL,sBAAsB,CAACN,MAAM,CAACQ,GAAR,CAAa,KAAb,CAAoB,CACxDI,UAAU,CAAE,EAAAH,qBAAA,CAAAP,gBAAgB,CAACW,OAAjB,UAAAJ,qBAAA,iBAAAA,qBAAA,CAA0BK,KAA1B,GAAmCC,SADS,CAExDC,WAAW,CAAE,EAAAN,sBAAA,CAAAR,gBAAgB,CAACW,OAAjB,UAAAH,sBAAA,iBAAAA,sBAAA,CAA0BO,MAA1B,GAAoCF,SAFO,CAApB,CAAtC,CAIA,GAAIJ,OAAJ,CAAa,CACX,OAAAO,aAAA,EACEP,OADK,CACLA,OADK,EAEFX,MAAA,EAEN,CACF,CACD,MAAO,CAAAA,MAAP,CACD,CAdM,CAcJ,CAACM,sBAAD,CAAyBN,MAAzB,CAdI,CAAP,CAeD"},"metadata":{},"sourceType":"script","externalDependencies":[]}