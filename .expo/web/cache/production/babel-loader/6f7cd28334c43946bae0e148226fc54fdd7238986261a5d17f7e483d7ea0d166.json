{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{useRoute}from'@react-navigation/native';import React,{useEffect,useState}from'react';import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import View from\"react-native-web/dist/exports/View\";import FlatList from\"react-native-web/dist/exports/FlatList\";import Platform from\"react-native-web/dist/exports/Platform\";import FontAwesome from\"@expo/vector-icons/FontAwesome\";import{CustomHeader}from\"../../components\";import{navigationStrings,Strings}from\"../../constants\";import{Colors,horizontalScale,moderateScale}from\"../../theme\";import styling from\"./CardDetailStyle\";import{getCardById,getProductCard}from\"../../redux/actions/card\";import{useDispatch,useSelector}from'react-redux';import{showLoader}from\"../../redux/actions/user\";import{Fonts}from\"../../assets\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CardDetail=function CardDetail(_ref){var _route$params,_route$params2;var navigation=_ref.navigation;var route=useRoute();var dispatch=useDispatch();var theme=route==null?void 0:(_route$params=route.params)==null?void 0:_route$params.theme;var styles=styling(theme);var userDetails=useSelector(function(state){var _state$user;return state==null?void 0:(_state$user=state.user)==null?void 0:_state$user.login;});var _useState=useState((route==null?void 0:(_route$params2=route.params)==null?void 0:_route$params2.virtualCard)||[]),_useState2=_slicedToArray(_useState,2),virtualCard=_useState2[0],setVirtualCard=_useState2[1];useEffect(function(){_asyncToGenerator(function*(){var unsubscribe=navigation.addListener('focus',_asyncToGenerator(function*(){var _userDetails$data,_userDetails$data$per,_userDetails$data$per2,_res$data,_res$data$data;yield dispatch(showLoader(true));var body={customer_id:userDetails==null?void 0:(_userDetails$data=userDetails.data)==null?void 0:(_userDetails$data$per=_userDetails$data.personDetail)==null?void 0:(_userDetails$data$per2=_userDetails$data$per[0])==null?void 0:_userDetails$data$per2.id,limit:\"100\",page_token:\"\"};var res=yield getProductCard(body);yield dispatch(showLoader(false));if(res!=null&&(_res$data=res.data)!=null&&(_res$data$data=_res$data.data)!=null&&_res$data$data.cards){var _res$data2,_res$data2$data,_res$data3,_res$data3$data,_route$params3;var filteredData=res==null?void 0:(_res$data2=res.data)==null?void 0:(_res$data2$data=_res$data2.data)==null?void 0:_res$data2$data.cards.filter(function(item){return item.form==='VIRTUAL';});var filteredData1=res==null?void 0:(_res$data3=res.data)==null?void 0:(_res$data3$data=_res$data3.data)==null?void 0:_res$data3$data.cards.filter(function(item){return item.form==='PHYSICAL';});setVirtualCard(route!=null&&(_route$params3=route.params)!=null&&_route$params3.isPhysical?filteredData1:filteredData);}}));return unsubscribe;})();},[]);return _jsxs(View,{style:styles.screen,children:[_jsx(CustomHeader,{theme:theme,headerTitle:'Card List',onPressBack:function onPressBack(){return navigation.goBack();}}),_jsx(View,{style:styles.container,children:_jsx(FlatList,{data:virtualCard,showsVerticalScrollIndicator:false,renderItem:function renderItem(_ref4){var _Colors$theme,_Colors$theme2;var item=_ref4.item;return _jsxs(TouchableOpacity,{style:styles.card,onPress:function onPress(){return navigation.navigate(navigationStrings==null?void 0:navigationStrings.VIRTAULCARD,{item:item});},children:[_jsxs(View,{style:styles.innerView,children:[_jsx(View,{style:{height:Platform.OS===\"web\"?40:horizontalScale(40),width:Platform.OS===\"web\"?40:horizontalScale(40),borderRadius:Platform.OS===\"web\"?90:horizontalScale(90),backgroundColor:'#C3EBEE',justifyContent:'center',alignItems:'center'},children:_jsx(FontAwesome,{name:'credit-card',color:(_Colors$theme=Colors[theme])==null?void 0:_Colors$theme.black,size:Platform.OS===\"web\"?20:moderateScale(20)})}),_jsxs(View,{children:[_jsx(Text,{style:styles.cardTitle,children:`**** **** **** ${item==null?void 0:item.last_four}`}),_jsx(Text,{style:[styles.cardTitle,{color:(item==null?void 0:item.card_status)==='ACTIVE'?Colors[theme].green900:Colors[theme].red,fontFamily:Fonts.regular}],children:`${item==null?void 0:item.card_status}`})]})]}),_jsx(FontAwesome,{name:'angle-right',color:(_Colors$theme2=Colors[theme])==null?void 0:_Colors$theme2.black,size:Platform.OS===\"web\"?24:moderateScale(24)})]});}})})]});};export default CardDetail;","map":{"version":3,"names":["useRoute","React","useEffect","useState","Text","TouchableOpacity","View","FlatList","Platform","FontAwesome","CustomHeader","navigationStrings","Strings","Colors","horizontalScale","moderateScale","styling","getCardById","getProductCard","useDispatch","useSelector","showLoader","Fonts","jsx","_jsx","jsxs","_jsxs","CardDetail","_ref","_route$params","_route$params2","navigation","route","dispatch","theme","params","styles","userDetails","state","_state$user","user","login","_useState","virtualCard","_useState2","_slicedToArray","setVirtualCard","_asyncToGenerator","unsubscribe","addListener","_userDetails$data","_userDetails$data$per","_userDetails$data$per2","_res$data","_res$data$data","body","customer_id","data","personDetail","id","limit","page_token","res","cards","_res$data2","_res$data2$data","_res$data3","_res$data3$data","_route$params3","filteredData","filter","item","form","filteredData1","isPhysical","style","screen","children","headerTitle","onPressBack","goBack","container","showsVerticalScrollIndicator","renderItem","_ref4","_Colors$theme","_Colors$theme2","card","onPress","navigate","VIRTAULCARD","innerView","height","OS","width","borderRadius","backgroundColor","justifyContent","alignItems","name","color","black","size","cardTitle","last_four","card_status","green900","red","fontFamily","regular"],"sources":["/Users/dhavalpatel/Documents/ExpoApp/src/modules/CardDetail/CardDetail.js"],"sourcesContent":["import { useRoute } from '@react-navigation/native';\nimport React, { useEffect, useState } from 'react';\nimport { Text, TouchableOpacity, View, FlatList, Platform } from 'react-native';\nimport FontAwesome from 'react-native-vector-icons/FontAwesome';\nimport { CustomHeader } from '../../components';\nimport { navigationStrings, Strings } from '../../constants';\nimport { Colors, horizontalScale, moderateScale } from '../../theme';\nimport styling from './CardDetailStyle';\nimport { getCardById, getProductCard } from '../../redux/actions/card';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { showLoader } from '../../redux/actions/user';\nimport { Fonts } from '../../assets';\n\nconst CardDetail = ({ navigation }) => {\n  const route = useRoute();\n  const dispatch = useDispatch();\n  const theme = route?.params?.theme;\n  const styles = styling(theme);\n  const userDetails = useSelector(state => state?.user?.login)\n  const [virtualCard, setVirtualCard] = useState(route?.params?.virtualCard || [])\n\n  useEffect(() => {\n    (async () => {\n      const unsubscribe = navigation.addListener('focus', async () => {\n        await dispatch(showLoader(true))\n        let body = {\n          customer_id: userDetails?.data?.personDetail?.[0]?.id,\n          limit: \"100\",\n          page_token: \"\",\n        }\n        let res = await getProductCard(body)\n        await dispatch(showLoader(false))\n        if (res?.data?.data?.cards) {\n          const filteredData = res?.data?.data?.cards.filter(item => item.form === 'VIRTUAL');\n          const filteredData1 = res?.data?.data?.cards.filter(item => item.form === 'PHYSICAL');\n          setVirtualCard(route?.params?.isPhysical ? filteredData1 : filteredData)\n        }\n      });\n      return unsubscribe;\n    })()\n  }, [])\n\n  return (\n    <View style={styles.screen}>\n      <CustomHeader\n        theme={theme}\n        headerTitle={'Card List'}\n        onPressBack={() => navigation.goBack()}\n      />\n      <View style={styles.container}>\n        <FlatList\n          data={virtualCard}\n          showsVerticalScrollIndicator={false}\n          renderItem={({ item }) => {\n            return (\n              <TouchableOpacity\n                style={styles.card}\n                onPress={() => navigation.navigate(navigationStrings?.VIRTAULCARD, { item: item })}>\n                <View style={styles.innerView}>\n                  <View style={{\n                    height: Platform.OS === \"web\" ? 40 : horizontalScale(40),\n                    width: Platform.OS === \"web\" ? 40 : horizontalScale(40),\n                    borderRadius: Platform.OS === \"web\" ? 90 : horizontalScale(90),\n                    backgroundColor: '#C3EBEE',\n                    justifyContent: 'center',\n                    alignItems: 'center'\n                  }}>\n                    <FontAwesome\n                      name={'credit-card'}\n                      color={Colors[theme]?.black}\n                      size={Platform.OS === \"web\" ? 20 : moderateScale(20)}\n                    />\n                  </View>\n                  <View>\n                    <Text style={styles.cardTitle}>{`**** **** **** ${item?.last_four}`}</Text>\n                    <Text style={[styles.cardTitle, { color: item?.card_status === 'ACTIVE' ? Colors[theme].green900 : Colors[theme].red, fontFamily: Fonts.regular }]}>{`${item?.card_status}`}</Text>\n                  </View>\n                </View>\n                <FontAwesome\n                  name={'angle-right'}\n                  color={Colors[theme]?.black}\n                  size={Platform.OS === \"web\" ? 24 : moderateScale(24)}\n                />\n              </TouchableOpacity>\n            )\n          }}\n        />\n      </View>\n    </View>\n  );\n};\n\nexport default CardDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}