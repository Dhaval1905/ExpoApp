{"ast":null,"code":"\"use strict\";var _objectWithoutProperties=require(\"@babel/runtime/helpers/objectWithoutProperties\");var _excluded=[\"style\"];Object.defineProperty(exports,\"__esModule\",{value:true});exports.useIMGElementProps=useIMGElementProps;exports.default=void 0;var _react=_interopRequireWildcard(require(\"react\"));var _IMGElement=_interopRequireDefault(require(\"../elements/IMGElement\"));var _SharedPropsProvider=require(\"../context/SharedPropsProvider\");var _reactNative=require(\"react-native-web/dist/index\");var _useNormalizedUrl=_interopRequireDefault(require(\"../hooks/useNormalizedUrl\"));var _RenderersPropsProvider=require(\"../context/RenderersPropsProvider\");var _useContentWidth=_interopRequireDefault(require(\"../hooks/useContentWidth\"));var _getNativePropsForTNode=_interopRequireDefault(require(\"../helpers/getNativePropsForTNode\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!==\"function\")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||typeof obj!==\"object\"&&typeof obj!==\"function\"){return{default:obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!==\"default\"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj.default=obj;if(cache){cache.set(obj,newObj);}return newObj;}function useIMGElementProps(props){var tnode=props.tnode;var contentWidth=(0,_useContentWidth.default)();var _ref=(0,_RenderersPropsProvider.useRendererProps)('img'),initialDimensions=_ref.initialDimensions,enableExperimentalPercentWidth=_ref.enableExperimentalPercentWidth;var computeImagesMaxWidth=(0,_SharedPropsProvider.useComputeMaxWidthForTag)('img');var src=tnode.attributes.src||'';var source={uri:(0,_useNormalizedUrl.default)(src)};var _ref2=(0,_getNativePropsForTNode.default)(props),rawStyle=_ref2.style,containerProps=_objectWithoutProperties(_ref2,_excluded);var style=(0,_react.useMemo)(function(){return rawStyle?_reactNative.StyleSheet.flatten(rawStyle):{};},[rawStyle]);return{contentWidth:contentWidth,containerProps:containerProps,enableExperimentalPercentWidth:enableExperimentalPercentWidth,initialDimensions:initialDimensions,source:source,style:style,testID:'img',computeMaxWidth:computeImagesMaxWidth,alt:tnode.attributes.alt,altColor:tnode.styles.nativeTextFlow.color,width:tnode.attributes.width,height:tnode.attributes.height,objectFit:tnode.styles.webBlockRet.objectFit};}var IMGRenderer=function IMGRenderer(props){return _react.default.createElement(_IMGElement.default,useIMGElementProps(props));};var _default=IMGRenderer;exports.default=_default;","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_IMGElement","_interopRequireDefault","_SharedPropsProvider","_reactNative","_useNormalizedUrl","_RenderersPropsProvider","_useContentWidth","_getNativePropsForTNode","useIMGElementProps","props","tnode","contentWidth","default","_ref","useRendererProps","initialDimensions","enableExperimentalPercentWidth","computeImagesMaxWidth","useComputeMaxWidthForTag","src","attributes","source","uri","_ref2","rawStyle","style","containerProps","_objectWithoutProperties","_excluded","useMemo","StyleSheet","flatten","testID","computeMaxWidth","alt","altColor","styles","nativeTextFlow","color","width","height","objectFit","webBlockRet","IMGRenderer","createElement"],"sources":["/Users/dhavalpatel/Documents/ExpoApp/node_modules/react-native-render-html/lib/commonjs/renderers/IMGRenderer.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { TBlock } from '@native-html/transient-render-engine';\nimport IMGElement, { IMGElementProps } from '../elements/IMGElement';\nimport { InternalBlockRenderer } from '../render/render-types';\nimport { useComputeMaxWidthForTag } from '../context/SharedPropsProvider';\nimport { ImageStyle, StyleSheet } from 'react-native';\nimport { InternalRendererProps } from '../shared-types';\nimport useNormalizedUrl from '../hooks/useNormalizedUrl';\nimport { useRendererProps } from '../context/RenderersPropsProvider';\nimport useContentWidth from '../hooks/useContentWidth';\nimport getNativePropsForTNode from '../helpers/getNativePropsForTNode';\n\n/**\n * A hook to produce props consumable by {@link IMGElement} component\n * from custom renderer props.\n */\nexport function useIMGElementProps(\n  props: InternalRendererProps<TBlock>\n): IMGElementProps {\n  const { tnode } = props;\n\n  const contentWidth = useContentWidth();\n  const { initialDimensions, enableExperimentalPercentWidth } =\n    useRendererProps('img');\n  const computeImagesMaxWidth = useComputeMaxWidthForTag('img');\n  const src = tnode.attributes.src || '';\n  const source = { uri: useNormalizedUrl(src) };\n  const { style: rawStyle, ...containerProps } = getNativePropsForTNode(props);\n  const style = useMemo<ImageStyle>(\n    () => (rawStyle ? (StyleSheet.flatten(rawStyle) as ImageStyle) : {}),\n    [rawStyle]\n  );\n  return {\n    contentWidth,\n    containerProps,\n    enableExperimentalPercentWidth,\n    initialDimensions,\n    source,\n    style,\n    testID: 'img',\n    computeMaxWidth: computeImagesMaxWidth,\n    alt: tnode.attributes.alt,\n    altColor: tnode.styles.nativeTextFlow.color as string,\n    width: tnode.attributes.width,\n    height: tnode.attributes.height,\n    objectFit: tnode.styles.webBlockRet.objectFit\n  };\n}\n\nconst IMGRenderer: InternalBlockRenderer = (props) => {\n  return React.createElement(IMGElement, useIMGElementProps(props));\n};\n\nexport default IMGRenderer;\n"],"mappings":"0PAAA,IAAAA,MAAA,CAAAC,uBAAA,CAAAC,OAAA,WAEA,IAAAC,WAAA,CAAAC,sBAAA,CAAAF,OAAA,4BAEA,IAAAG,oBAAA,CAAAH,OAAA,uCAAAI,YAAA,CAAAJ,OAAA,gCAGA,IAAAK,iBAAA,CAAAH,sBAAA,CAAAF,OAAA,+BACA,IAAAM,uBAAA,CAAAN,OAAA,sCACA,IAAAO,gBAAA,CAAAL,sBAAA,CAAAF,OAAA,8BACA,IAAAQ,uBAAA,CAAAN,sBAAA,CAAAF,OAAA,uC,6kCAMO,QAAS,CAAAS,kBAATA,CACLC,KADK,CAEY,CACjB,GAAQ,CAAAC,KAAA,CAAUD,KAAlB,CAAQC,KAAA,CAER,GAAM,CAAAC,YAAY,CAAG,GAAAL,gBAAA,CAAAM,OAAA,GAArB,CACA,IAAAC,IAAA,CACE,GAAAR,uBAAA,CAAAS,gBAAA,EAAiB,KAAjB,CADF,CAAQC,iBAAF,CAAAF,IAAA,CAAEE,iBAAF,CAAqBC,8BAAA,CAAAH,IAAA,CAAAG,8BAAA,CAE3B,GAAM,CAAAC,qBAAqB,CAAG,GAAAf,oBAAA,CAAAgB,wBAAA,EAAyB,KAAzB,CAA9B,CACA,GAAM,CAAAC,GAAG,CAAGT,KAAK,CAACU,UAAN,CAAiBD,GAAjB,EAAwB,EAApC,CACA,GAAM,CAAAE,MAAM,CAAG,CAAEC,GAAG,CAAE,GAAAlB,iBAAA,CAAAQ,OAAA,EAAiBO,GAAjB,CAAP,CAAf,CACA,IAAAI,KAAA,CAA+C,GAAAhB,uBAAA,CAAAK,OAAA,EAAuBH,KAAvB,CAA/C,CAAee,QAAT,CAAAD,KAAA,CAAEE,KAAK,CAAeC,cAAA,CAAAC,wBAAA,CAAAJ,KAAA,CAAAK,SAAA,EAC5B,GAAM,CAAAH,KAAK,CAAG,GAAA5B,MAAA,CAAAgC,OAAA,EACZ,iBAAO,CAAAL,QAAQ,CAAIrB,YAAA,CAAA2B,UAAA,CAAWC,OAAX,CAAmBP,QAAnB,CAAJ,CAAkD,EADrD,GAEZ,CAACA,QAAD,CAFY,CAAd,CAIA,MAAO,CACLb,YADK,CACLA,YADK,CAELe,cAFK,CAELA,cAFK,CAGLV,8BAHK,CAGLA,8BAHK,CAILD,iBAJK,CAILA,iBAJK,CAKLM,MALK,CAKLA,MALK,CAMLI,KANK,CAMLA,KANK,CAOLO,MAAM,CAAE,KAPH,CAQLC,eAAe,CAAEhB,qBARZ,CASLiB,GAAG,CAAExB,KAAK,CAACU,UAAN,CAAiBc,GATjB,CAULC,QAAQ,CAAEzB,KAAK,CAAC0B,MAAN,CAAaC,cAAb,CAA4BC,KAVjC,CAWLC,KAAK,CAAE7B,KAAK,CAACU,UAAN,CAAiBmB,KAXnB,CAYLC,MAAM,CAAE9B,KAAK,CAACU,UAAN,CAAiBoB,MAZpB,CAaLC,SAAS,CAAE/B,KAAK,CAAC0B,MAAN,CAAaM,WAAb,CAAyBD,SAb/B,CAAP,CAeD,CAED,GAAM,CAAAE,WAAkC,CAAI,QAAtC,CAAAA,WAAkCA,CAAIlC,KAAD,CAAW,CACpD,MAAO,CAAAZ,MAAA,CAAAe,OAAA,CAAMgC,aAAN,CAAoB5C,WAAA,CAAAY,OAApB,CAAgCJ,kBAAkB,CAACC,KAAD,CAAlD,CAAP,CACD,CAFD,C,aAIekC,W"},"metadata":{},"sourceType":"script","externalDependencies":[]}