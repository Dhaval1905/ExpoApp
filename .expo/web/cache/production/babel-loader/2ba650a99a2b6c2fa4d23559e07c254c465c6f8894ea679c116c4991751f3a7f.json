{"ast":null,"code":"\"use strict\";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{\"default\":mod};};Object.defineProperty(exports,\"__esModule\",{value:true});var decode_codepoint_1=__importDefault(require(\"entities/lib/decode_codepoint\"));var decode_1=require(\"entities/lib/decode\");function isWhitespace(c){return c===32||c===10||c===9||c===12||c===13;}function isEndOfTagSection(c){return c===47||c===62||isWhitespace(c);}function isNumber(c){return c>=48&&c<=57;}function isASCIIAlpha(c){return c>=97&&c<=122||c>=65&&c<=90;}var Sequences={Cdata:new Uint16Array([0x43,0x44,0x41,0x54,0x41,0x5b]),CdataEnd:new Uint16Array([0x5d,0x5d,0x3e]),CommentEnd:new Uint16Array([0x2d,0x2d,0x3e]),ScriptEnd:new Uint16Array([0x3c,0x2f,0x73,0x63,0x72,0x69,0x70,0x74]),StyleEnd:new Uint16Array([0x3c,0x2f,0x73,0x74,0x79,0x6c,0x65]),TitleEnd:new Uint16Array([0x3c,0x2f,0x74,0x69,0x74,0x6c,0x65])};var Tokenizer=function(){function Tokenizer(_a,cbs){var _b=_a.xmlMode,xmlMode=_b===void 0?false:_b,_c=_a.decodeEntities,decodeEntities=_c===void 0?true:_c;this.cbs=cbs;this._state=1;this.buffer=\"\";this.sectionStart=0;this._index=0;this.bufferOffset=0;this.baseState=1;this.isSpecial=false;this.running=true;this.ended=false;this.sequenceIndex=0;this.trieIndex=0;this.trieCurrent=0;this.trieResult=null;this.entityExcess=0;this.xmlMode=xmlMode;this.decodeEntities=decodeEntities;this.entityTrie=xmlMode?decode_1.xmlDecodeTree:decode_1.htmlDecodeTree;}Tokenizer.prototype.reset=function(){this._state=1;this.buffer=\"\";this.sectionStart=0;this._index=0;this.bufferOffset=0;this.baseState=1;this.currentSequence=undefined;this.running=true;this.ended=false;};Tokenizer.prototype.write=function(chunk){if(this.ended)return this.cbs.onerror(Error(\".write() after done!\"));this.buffer+=chunk;this.parse();};Tokenizer.prototype.end=function(chunk){if(this.ended)return this.cbs.onerror(Error(\".end() after done!\"));if(chunk)this.write(chunk);this.ended=true;if(this.running)this.finish();};Tokenizer.prototype.pause=function(){this.running=false;};Tokenizer.prototype.resume=function(){this.running=true;if(this._index<this.buffer.length){this.parse();}if(this.ended){this.finish();}};Tokenizer.prototype.getAbsoluteSectionStart=function(){return this.sectionStart+this.bufferOffset;};Tokenizer.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index;};Tokenizer.prototype.stateText=function(c){if(c===60||!this.decodeEntities&&this.fastForwardTo(60)){if(this._index>this.sectionStart){this.cbs.ontext(this.getSection());}this._state=2;this.sectionStart=this._index;}else if(this.decodeEntities&&c===38){this._state=25;}};Tokenizer.prototype.stateSpecialStartSequence=function(c){var isEnd=this.sequenceIndex===this.currentSequence.length;var isMatch=isEnd?isEndOfTagSection(c):(c|0x20)===this.currentSequence[this.sequenceIndex];if(!isMatch){this.isSpecial=false;}else if(!isEnd){this.sequenceIndex++;return;}this.sequenceIndex=0;this._state=3;this.stateInTagName(c);};Tokenizer.prototype.stateInSpecialTag=function(c){if(this.sequenceIndex===this.currentSequence.length){if(c===62||isWhitespace(c)){var endOfText=this._index-this.currentSequence.length;if(this.sectionStart<endOfText){var actualIndex=this._index;this._index=endOfText;this.cbs.ontext(this.getSection());this._index=actualIndex;}this.isSpecial=false;this.sectionStart=endOfText+2;this.stateInClosingTagName(c);return;}this.sequenceIndex=0;}if((c|0x20)===this.currentSequence[this.sequenceIndex]){this.sequenceIndex+=1;}else if(this.sequenceIndex===0){if(this.currentSequence===Sequences.TitleEnd){if(this.decodeEntities&&c===38){this._state=25;}}else if(this.fastForwardTo(60)){this.sequenceIndex=1;}}else{this.sequenceIndex=Number(c===60);}};Tokenizer.prototype.stateCDATASequence=function(c){if(c===Sequences.Cdata[this.sequenceIndex]){if(++this.sequenceIndex===Sequences.Cdata.length){this._state=21;this.currentSequence=Sequences.CdataEnd;this.sequenceIndex=0;this.sectionStart=this._index+1;}}else{this.sequenceIndex=0;this._state=16;this.stateInDeclaration(c);}};Tokenizer.prototype.fastForwardTo=function(c){while(++this._index<this.buffer.length){if(this.buffer.charCodeAt(this._index)===c){return true;}}this._index=this.buffer.length-1;return false;};Tokenizer.prototype.stateInCommentLike=function(c){if(c===this.currentSequence[this.sequenceIndex]){if(++this.sequenceIndex===this.currentSequence.length){var section=this.buffer.slice(this.sectionStart,this._index-2);if(this.currentSequence===Sequences.CdataEnd){this.cbs.oncdata(section);}else{this.cbs.oncomment(section);}this.sequenceIndex=0;this.sectionStart=this._index+1;this._state=1;}}else if(this.sequenceIndex===0){if(this.fastForwardTo(this.currentSequence[0])){this.sequenceIndex=1;}}else if(c!==this.currentSequence[this.sequenceIndex-1]){this.sequenceIndex=0;}};Tokenizer.prototype.isTagStartChar=function(c){return this.xmlMode?!isEndOfTagSection(c):isASCIIAlpha(c);};Tokenizer.prototype.startSpecial=function(sequence,offset){this.isSpecial=true;this.currentSequence=sequence;this.sequenceIndex=offset;this._state=23;};Tokenizer.prototype.stateBeforeTagName=function(c){if(c===33){this._state=15;this.sectionStart=this._index+1;}else if(c===63){this._state=17;this.sectionStart=this._index+1;}else if(this.isTagStartChar(c)){var lower=c|0x20;this.sectionStart=this._index;if(!this.xmlMode&&lower===Sequences.TitleEnd[2]){this.startSpecial(Sequences.TitleEnd,3);}else{this._state=!this.xmlMode&&lower===Sequences.ScriptEnd[2]?22:3;}}else if(c===47){this._state=5;}else{this._state=1;this.stateText(c);}};Tokenizer.prototype.stateInTagName=function(c){if(isEndOfTagSection(c)){this.cbs.onopentagname(this.getSection());this.sectionStart=-1;this._state=8;this.stateBeforeAttributeName(c);}};Tokenizer.prototype.stateBeforeClosingTagName=function(c){if(isWhitespace(c)){}else if(c===62){this._state=1;}else{this._state=this.isTagStartChar(c)?6:20;this.sectionStart=this._index;}};Tokenizer.prototype.stateInClosingTagName=function(c){if(c===62||isWhitespace(c)){this.cbs.onclosetag(this.getSection());this.sectionStart=-1;this._state=7;this.stateAfterClosingTagName(c);}};Tokenizer.prototype.stateAfterClosingTagName=function(c){if(c===62||this.fastForwardTo(62)){this._state=1;this.sectionStart=this._index+1;}};Tokenizer.prototype.stateBeforeAttributeName=function(c){if(c===62){this.cbs.onopentagend();if(this.isSpecial){this._state=24;this.sequenceIndex=0;}else{this._state=1;}this.baseState=this._state;this.sectionStart=this._index+1;}else if(c===47){this._state=4;}else if(!isWhitespace(c)){this._state=9;this.sectionStart=this._index;}};Tokenizer.prototype.stateInSelfClosingTag=function(c){if(c===62){this.cbs.onselfclosingtag();this._state=1;this.baseState=1;this.sectionStart=this._index+1;this.isSpecial=false;}else if(!isWhitespace(c)){this._state=8;this.stateBeforeAttributeName(c);}};Tokenizer.prototype.stateInAttributeName=function(c){if(c===61||isEndOfTagSection(c)){this.cbs.onattribname(this.getSection());this.sectionStart=-1;this._state=10;this.stateAfterAttributeName(c);}};Tokenizer.prototype.stateAfterAttributeName=function(c){if(c===61){this._state=11;}else if(c===47||c===62){this.cbs.onattribend(undefined);this._state=8;this.stateBeforeAttributeName(c);}else if(!isWhitespace(c)){this.cbs.onattribend(undefined);this._state=9;this.sectionStart=this._index;}};Tokenizer.prototype.stateBeforeAttributeValue=function(c){if(c===34){this._state=12;this.sectionStart=this._index+1;}else if(c===39){this._state=13;this.sectionStart=this._index+1;}else if(!isWhitespace(c)){this.sectionStart=this._index;this._state=14;this.stateInAttributeValueNoQuotes(c);}};Tokenizer.prototype.handleInAttributeValue=function(c,quote){if(c===quote||!this.decodeEntities&&this.fastForwardTo(quote)){this.cbs.onattribdata(this.getSection());this.sectionStart=-1;this.cbs.onattribend(String.fromCharCode(quote));this._state=8;}else if(this.decodeEntities&&c===38){this.baseState=this._state;this._state=25;}};Tokenizer.prototype.stateInAttributeValueDoubleQuotes=function(c){this.handleInAttributeValue(c,34);};Tokenizer.prototype.stateInAttributeValueSingleQuotes=function(c){this.handleInAttributeValue(c,39);};Tokenizer.prototype.stateInAttributeValueNoQuotes=function(c){if(isWhitespace(c)||c===62){this.cbs.onattribdata(this.getSection());this.sectionStart=-1;this.cbs.onattribend(null);this._state=8;this.stateBeforeAttributeName(c);}else if(this.decodeEntities&&c===38){this.baseState=this._state;this._state=25;}};Tokenizer.prototype.stateBeforeDeclaration=function(c){if(c===91){this._state=19;this.sequenceIndex=0;}else{this._state=c===45?18:16;}};Tokenizer.prototype.stateInDeclaration=function(c){if(c===62||this.fastForwardTo(62)){this.cbs.ondeclaration(this.getSection());this._state=1;this.sectionStart=this._index+1;}};Tokenizer.prototype.stateInProcessingInstruction=function(c){if(c===62||this.fastForwardTo(62)){this.cbs.onprocessinginstruction(this.getSection());this._state=1;this.sectionStart=this._index+1;}};Tokenizer.prototype.stateBeforeComment=function(c){if(c===45){this._state=21;this.currentSequence=Sequences.CommentEnd;this.sequenceIndex=2;this.sectionStart=this._index+1;}else{this._state=16;}};Tokenizer.prototype.stateInSpecialComment=function(c){if(c===62||this.fastForwardTo(62)){this.cbs.oncomment(this.getSection());this._state=1;this.sectionStart=this._index+1;}};Tokenizer.prototype.stateBeforeSpecialS=function(c){var lower=c|0x20;if(lower===Sequences.ScriptEnd[3]){this.startSpecial(Sequences.ScriptEnd,4);}else if(lower===Sequences.StyleEnd[3]){this.startSpecial(Sequences.StyleEnd,4);}else{this._state=3;this.stateInTagName(c);}};Tokenizer.prototype.stateBeforeEntity=function(c){this.entityExcess=1;if(c===35){this._state=26;}else if(c===38){}else{this.trieIndex=0;this.trieCurrent=this.entityTrie[0];this.trieResult=null;this._state=27;this.stateInNamedEntity(c);}};Tokenizer.prototype.stateInNamedEntity=function(c){this.entityExcess+=1;this.trieIndex=(0,decode_1.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,c);if(this.trieIndex<0){this.emitNamedEntity();this._index--;return;}this.trieCurrent=this.entityTrie[this.trieIndex];if(this.trieCurrent&decode_1.BinTrieFlags.HAS_VALUE){if(!this.allowLegacyEntity()&&c!==59){this.trieIndex+=1;}else{var entityStart=this._index-this.entityExcess+1;if(entityStart>this.sectionStart){this.emitPartial(this.buffer.substring(this.sectionStart,entityStart));}this.trieResult=this.trieCurrent&decode_1.BinTrieFlags.MULTI_BYTE?String.fromCharCode(this.entityTrie[++this.trieIndex],this.entityTrie[++this.trieIndex]):String.fromCharCode(this.entityTrie[++this.trieIndex]);this.entityExcess=0;this.sectionStart=this._index+1;}}};Tokenizer.prototype.emitNamedEntity=function(){if(this.trieResult){this.emitPartial(this.trieResult);}this._state=this.baseState;};Tokenizer.prototype.stateBeforeNumericEntity=function(c){if((c|0x20)===120){this.entityExcess++;this._state=29;}else{this._state=28;this.stateInNumericEntity(c);}};Tokenizer.prototype.decodeNumericEntity=function(base,strict){var entityStart=this._index-this.entityExcess-1;var numberStart=entityStart+2+(base>>4);if(numberStart!==this._index){if(entityStart>this.sectionStart){this.emitPartial(this.buffer.substring(this.sectionStart,entityStart));}var entity=this.buffer.substring(numberStart,this._index);var parsed=parseInt(entity,base);this.emitPartial((0,decode_codepoint_1.default)(parsed));this.sectionStart=this._index+Number(strict);}this._state=this.baseState;};Tokenizer.prototype.stateInNumericEntity=function(c){if(c===59){this.decodeNumericEntity(10,true);}else if(!isNumber(c)){if(this.allowLegacyEntity()){this.decodeNumericEntity(10,false);}else{this._state=this.baseState;}this._index--;}else{this.entityExcess++;}};Tokenizer.prototype.stateInHexEntity=function(c){if(c===59){this.decodeNumericEntity(16,true);}else if((c<97||c>102)&&(c<65||c>70)&&!isNumber(c)){if(this.allowLegacyEntity()){this.decodeNumericEntity(16,false);}else{this._state=this.baseState;}this._index--;}else{this.entityExcess++;}};Tokenizer.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===1||this.baseState===24);};Tokenizer.prototype.cleanup=function(){if(this.running&&this.sectionStart!==this._index&&(this._state===1||this._state===24&&this.sequenceIndex===0)){this.cbs.ontext(this.buffer.substr(this.sectionStart));this.sectionStart=this._index;}var start=this.sectionStart<0?this._index:this.sectionStart;this.buffer=start===this.buffer.length?\"\":this.buffer.substr(start);this._index-=start;this.bufferOffset+=start;if(this.sectionStart>0){this.sectionStart=0;}};Tokenizer.prototype.shouldContinue=function(){return this._index<this.buffer.length&&this.running;};Tokenizer.prototype.parse=function(){while(this.shouldContinue()){var c=this.buffer.charCodeAt(this._index);if(this._state===1){this.stateText(c);}else if(this._state===23){this.stateSpecialStartSequence(c);}else if(this._state===24){this.stateInSpecialTag(c);}else if(this._state===19){this.stateCDATASequence(c);}else if(this._state===12){this.stateInAttributeValueDoubleQuotes(c);}else if(this._state===9){this.stateInAttributeName(c);}else if(this._state===21){this.stateInCommentLike(c);}else if(this._state===20){this.stateInSpecialComment(c);}else if(this._state===8){this.stateBeforeAttributeName(c);}else if(this._state===3){this.stateInTagName(c);}else if(this._state===6){this.stateInClosingTagName(c);}else if(this._state===2){this.stateBeforeTagName(c);}else if(this._state===10){this.stateAfterAttributeName(c);}else if(this._state===13){this.stateInAttributeValueSingleQuotes(c);}else if(this._state===11){this.stateBeforeAttributeValue(c);}else if(this._state===5){this.stateBeforeClosingTagName(c);}else if(this._state===7){this.stateAfterClosingTagName(c);}else if(this._state===22){this.stateBeforeSpecialS(c);}else if(this._state===14){this.stateInAttributeValueNoQuotes(c);}else if(this._state===4){this.stateInSelfClosingTag(c);}else if(this._state===16){this.stateInDeclaration(c);}else if(this._state===15){this.stateBeforeDeclaration(c);}else if(this._state===18){this.stateBeforeComment(c);}else if(this._state===17){this.stateInProcessingInstruction(c);}else if(this._state===27){this.stateInNamedEntity(c);}else if(this._state===25){this.stateBeforeEntity(c);}else if(this._state===29){this.stateInHexEntity(c);}else if(this._state===28){this.stateInNumericEntity(c);}else{this.stateBeforeNumericEntity(c);}this._index++;}this.cleanup();};Tokenizer.prototype.finish=function(){if(this._state===27){this.emitNamedEntity();}if(this.sectionStart<this._index){this.handleTrailingData();}this.cbs.onend();};Tokenizer.prototype.handleTrailingData=function(){var data=this.buffer.substr(this.sectionStart);if(this._state===21){if(this.currentSequence===Sequences.CdataEnd){this.cbs.oncdata(data);}else{this.cbs.oncomment(data);}}else if(this._state===28&&this.allowLegacyEntity()){this.decodeNumericEntity(10,false);}else if(this._state===29&&this.allowLegacyEntity()){this.decodeNumericEntity(16,false);}else if(this._state===3||this._state===8||this._state===11||this._state===10||this._state===9||this._state===13||this._state===12||this._state===14||this._state===6){}else{this.cbs.ontext(data);}};Tokenizer.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index);};Tokenizer.prototype.emitPartial=function(value){if(this.baseState!==1&&this.baseState!==24){this.cbs.onattribdata(value);}else{this.cbs.ontext(value);}};return Tokenizer;}();exports.default=Tokenizer;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","decode_codepoint_1","require","decode_1","isWhitespace","c","isEndOfTagSection","isNumber","isASCIIAlpha","Sequences","Cdata","Uint16Array","CdataEnd","CommentEnd","ScriptEnd","StyleEnd","TitleEnd","Tokenizer","_a","cbs","_b","xmlMode","_c","decodeEntities","_state","buffer","sectionStart","_index","bufferOffset","baseState","isSpecial","running","ended","sequenceIndex","trieIndex","trieCurrent","trieResult","entityExcess","entityTrie","xmlDecodeTree","htmlDecodeTree","prototype","reset","currentSequence","undefined","write","chunk","onerror","Error","parse","end","finish","pause","resume","length","getAbsoluteSectionStart","getAbsoluteIndex","stateText","fastForwardTo","ontext","getSection","stateSpecialStartSequence","isEnd","isMatch","stateInTagName","stateInSpecialTag","endOfText","actualIndex","stateInClosingTagName","Number","stateCDATASequence","stateInDeclaration","charCodeAt","stateInCommentLike","section","slice","oncdata","oncomment","isTagStartChar","startSpecial","sequence","offset","stateBeforeTagName","lower","onopentagname","stateBeforeAttributeName","stateBeforeClosingTagName","onclosetag","stateAfterClosingTagName","onopentagend","stateInSelfClosingTag","onselfclosingtag","stateInAttributeName","onattribname","stateAfterAttributeName","onattribend","stateBeforeAttributeValue","stateInAttributeValueNoQuotes","handleInAttributeValue","quote","onattribdata","String","fromCharCode","stateInAttributeValueDoubleQuotes","stateInAttributeValueSingleQuotes","stateBeforeDeclaration","ondeclaration","stateInProcessingInstruction","onprocessinginstruction","stateBeforeComment","stateInSpecialComment","stateBeforeSpecialS","stateBeforeEntity","stateInNamedEntity","determineBranch","emitNamedEntity","BinTrieFlags","HAS_VALUE","allowLegacyEntity","entityStart","emitPartial","substring","MULTI_BYTE","stateBeforeNumericEntity","stateInNumericEntity","decodeNumericEntity","base","strict","numberStart","entity","parsed","parseInt","default","stateInHexEntity","cleanup","substr","start","shouldContinue","handleTrailingData","onend","data"],"sources":["/Users/dhavalpatel/Documents/ExpoApp/node_modules/react-native-render-html/node_modules/htmlparser2/lib/Tokenizer.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decode_codepoint_1 = __importDefault(require(\"entities/lib/decode_codepoint\"));\nvar decode_1 = require(\"entities/lib/decode\");\nfunction isWhitespace(c) {\n    return (c === 32 /* Space */ ||\n        c === 10 /* NewLine */ ||\n        c === 9 /* Tab */ ||\n        c === 12 /* FormFeed */ ||\n        c === 13 /* CarriageReturn */);\n}\nfunction isEndOfTagSection(c) {\n    return c === 47 /* Slash */ || c === 62 /* Gt */ || isWhitespace(c);\n}\nfunction isNumber(c) {\n    return c >= 48 /* Zero */ && c <= 57 /* Nine */;\n}\nfunction isASCIIAlpha(c) {\n    return ((c >= 97 /* LowerA */ && c <= 122 /* LowerZ */) ||\n        (c >= 65 /* UpperA */ && c <= 90 /* UpperZ */));\n}\n/**\n * Sequences used to match longer strings.\n *\n * We don't have `Script`, `Style`, or `Title` here. Instead, we re-use the *End\n * sequences with an increased offset.\n */\nvar Sequences = {\n    Cdata: new Uint16Array([0x43, 0x44, 0x41, 0x54, 0x41, 0x5b]),\n    CdataEnd: new Uint16Array([0x5d, 0x5d, 0x3e]),\n    CommentEnd: new Uint16Array([0x2d, 0x2d, 0x3e]),\n    ScriptEnd: new Uint16Array([\n        0x3c, 0x2f, 0x73, 0x63, 0x72, 0x69, 0x70, 0x74,\n    ]),\n    StyleEnd: new Uint16Array([0x3c, 0x2f, 0x73, 0x74, 0x79, 0x6c, 0x65]),\n    TitleEnd: new Uint16Array([0x3c, 0x2f, 0x74, 0x69, 0x74, 0x6c, 0x65]), // `</title`\n};\nvar Tokenizer = /** @class */ (function () {\n    function Tokenizer(_a, cbs) {\n        var _b = _a.xmlMode, xmlMode = _b === void 0 ? false : _b, _c = _a.decodeEntities, decodeEntities = _c === void 0 ? true : _c;\n        this.cbs = cbs;\n        /** The current state the tokenizer is in. */\n        this._state = 1 /* Text */;\n        /** The read buffer. */\n        this.buffer = \"\";\n        /** The beginning of the section that is currently being read. */\n        this.sectionStart = 0;\n        /** The index within the buffer that we are currently looking at. */\n        this._index = 0;\n        /**\n         * Data that has already been processed will be removed from the buffer occasionally.\n         * `_bufferOffset` keeps track of how many characters have been removed, to make sure position information is accurate.\n         */\n        this.bufferOffset = 0;\n        /** Some behavior, eg. when decoding entities, is done while we are in another state. This keeps track of the other state type. */\n        this.baseState = 1 /* Text */;\n        /** For special parsing behavior inside of script and style tags. */\n        this.isSpecial = false;\n        /** Indicates whether the tokenizer has been paused. */\n        this.running = true;\n        /** Indicates whether the tokenizer has finished running / `.end` has been called. */\n        this.ended = false;\n        this.sequenceIndex = 0;\n        this.trieIndex = 0;\n        this.trieCurrent = 0;\n        this.trieResult = null;\n        this.entityExcess = 0;\n        this.xmlMode = xmlMode;\n        this.decodeEntities = decodeEntities;\n        this.entityTrie = xmlMode ? decode_1.xmlDecodeTree : decode_1.htmlDecodeTree;\n    }\n    Tokenizer.prototype.reset = function () {\n        this._state = 1 /* Text */;\n        this.buffer = \"\";\n        this.sectionStart = 0;\n        this._index = 0;\n        this.bufferOffset = 0;\n        this.baseState = 1 /* Text */;\n        this.currentSequence = undefined;\n        this.running = true;\n        this.ended = false;\n    };\n    Tokenizer.prototype.write = function (chunk) {\n        if (this.ended)\n            return this.cbs.onerror(Error(\".write() after done!\"));\n        this.buffer += chunk;\n        this.parse();\n    };\n    Tokenizer.prototype.end = function (chunk) {\n        if (this.ended)\n            return this.cbs.onerror(Error(\".end() after done!\"));\n        if (chunk)\n            this.write(chunk);\n        this.ended = true;\n        if (this.running)\n            this.finish();\n    };\n    Tokenizer.prototype.pause = function () {\n        this.running = false;\n    };\n    Tokenizer.prototype.resume = function () {\n        this.running = true;\n        if (this._index < this.buffer.length) {\n            this.parse();\n        }\n        if (this.ended) {\n            this.finish();\n        }\n    };\n    /**\n     * The start of the current section.\n     */\n    Tokenizer.prototype.getAbsoluteSectionStart = function () {\n        return this.sectionStart + this.bufferOffset;\n    };\n    /**\n     * The current index within all of the written data.\n     */\n    Tokenizer.prototype.getAbsoluteIndex = function () {\n        return this.bufferOffset + this._index;\n    };\n    Tokenizer.prototype.stateText = function (c) {\n        if (c === 60 /* Lt */ ||\n            (!this.decodeEntities && this.fastForwardTo(60 /* Lt */))) {\n            if (this._index > this.sectionStart) {\n                this.cbs.ontext(this.getSection());\n            }\n            this._state = 2 /* BeforeTagName */;\n            this.sectionStart = this._index;\n        }\n        else if (this.decodeEntities && c === 38 /* Amp */) {\n            this._state = 25 /* BeforeEntity */;\n        }\n    };\n    Tokenizer.prototype.stateSpecialStartSequence = function (c) {\n        var isEnd = this.sequenceIndex === this.currentSequence.length;\n        var isMatch = isEnd\n            ? // If we are at the end of the sequence, make sure the tag name has ended\n                isEndOfTagSection(c)\n            : // Otherwise, do a case-insensitive comparison\n                (c | 0x20) === this.currentSequence[this.sequenceIndex];\n        if (!isMatch) {\n            this.isSpecial = false;\n        }\n        else if (!isEnd) {\n            this.sequenceIndex++;\n            return;\n        }\n        this.sequenceIndex = 0;\n        this._state = 3 /* InTagName */;\n        this.stateInTagName(c);\n    };\n    /** Look for an end tag. For <title> tags, also decode entities. */\n    Tokenizer.prototype.stateInSpecialTag = function (c) {\n        if (this.sequenceIndex === this.currentSequence.length) {\n            if (c === 62 /* Gt */ || isWhitespace(c)) {\n                var endOfText = this._index - this.currentSequence.length;\n                if (this.sectionStart < endOfText) {\n                    // Spoof the index so that reported locations match up.\n                    var actualIndex = this._index;\n                    this._index = endOfText;\n                    this.cbs.ontext(this.getSection());\n                    this._index = actualIndex;\n                }\n                this.isSpecial = false;\n                this.sectionStart = endOfText + 2; // Skip over the `</`\n                this.stateInClosingTagName(c);\n                return; // We are done; skip the rest of the function.\n            }\n            this.sequenceIndex = 0;\n        }\n        if ((c | 0x20) === this.currentSequence[this.sequenceIndex]) {\n            this.sequenceIndex += 1;\n        }\n        else if (this.sequenceIndex === 0) {\n            if (this.currentSequence === Sequences.TitleEnd) {\n                // We have to parse entities in <title> tags.\n                if (this.decodeEntities && c === 38 /* Amp */) {\n                    this._state = 25 /* BeforeEntity */;\n                }\n            }\n            else if (this.fastForwardTo(60 /* Lt */)) {\n                // Outside of <title> tags, we can fast-forward.\n                this.sequenceIndex = 1;\n            }\n        }\n        else {\n            // If we see a `<`, set the sequence index to 1; useful for eg. `<</script>`.\n            this.sequenceIndex = Number(c === 60 /* Lt */);\n        }\n    };\n    Tokenizer.prototype.stateCDATASequence = function (c) {\n        if (c === Sequences.Cdata[this.sequenceIndex]) {\n            if (++this.sequenceIndex === Sequences.Cdata.length) {\n                this._state = 21 /* InCommentLike */;\n                this.currentSequence = Sequences.CdataEnd;\n                this.sequenceIndex = 0;\n                this.sectionStart = this._index + 1;\n            }\n        }\n        else {\n            this.sequenceIndex = 0;\n            this._state = 16 /* InDeclaration */;\n            this.stateInDeclaration(c); // Reconsume the character\n        }\n    };\n    /**\n     * When we wait for one specific character, we can speed things up\n     * by skipping through the buffer until we find it.\n     *\n     * @returns Whether the character was found.\n     */\n    Tokenizer.prototype.fastForwardTo = function (c) {\n        while (++this._index < this.buffer.length) {\n            if (this.buffer.charCodeAt(this._index) === c) {\n                return true;\n            }\n        }\n        /*\n         * We increment the index at the end of the `parse` loop,\n         * so set it to `buffer.length - 1` here.\n         *\n         * TODO: Refactor `parse` to increment index before calling states.\n         */\n        this._index = this.buffer.length - 1;\n        return false;\n    };\n    /**\n     * Comments and CDATA end with `-->` and `]]>`.\n     *\n     * Their common qualities are:\n     * - Their end sequences have a distinct character they start with.\n     * - That character is then repeated, so we have to check multiple repeats.\n     * - All characters but the start character of the sequence can be skipped.\n     */\n    Tokenizer.prototype.stateInCommentLike = function (c) {\n        if (c === this.currentSequence[this.sequenceIndex]) {\n            if (++this.sequenceIndex === this.currentSequence.length) {\n                // Remove 2 trailing chars\n                var section = this.buffer.slice(this.sectionStart, this._index - 2);\n                if (this.currentSequence === Sequences.CdataEnd) {\n                    this.cbs.oncdata(section);\n                }\n                else {\n                    this.cbs.oncomment(section);\n                }\n                this.sequenceIndex = 0;\n                this.sectionStart = this._index + 1;\n                this._state = 1 /* Text */;\n            }\n        }\n        else if (this.sequenceIndex === 0) {\n            // Fast-forward to the first character of the sequence\n            if (this.fastForwardTo(this.currentSequence[0])) {\n                this.sequenceIndex = 1;\n            }\n        }\n        else if (c !== this.currentSequence[this.sequenceIndex - 1]) {\n            // Allow long sequences, eg. --->, ]]]>\n            this.sequenceIndex = 0;\n        }\n    };\n    /**\n     * HTML only allows ASCII alpha characters (a-z and A-Z) at the beginning of a tag name.\n     *\n     * XML allows a lot more characters here (@see https://www.w3.org/TR/REC-xml/#NT-NameStartChar).\n     * We allow anything that wouldn't end the tag.\n     */\n    Tokenizer.prototype.isTagStartChar = function (c) {\n        return this.xmlMode ? !isEndOfTagSection(c) : isASCIIAlpha(c);\n    };\n    Tokenizer.prototype.startSpecial = function (sequence, offset) {\n        this.isSpecial = true;\n        this.currentSequence = sequence;\n        this.sequenceIndex = offset;\n        this._state = 23 /* SpecialStartSequence */;\n    };\n    Tokenizer.prototype.stateBeforeTagName = function (c) {\n        if (c === 33 /* ExclamationMark */) {\n            this._state = 15 /* BeforeDeclaration */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (c === 63 /* Questionmark */) {\n            this._state = 17 /* InProcessingInstruction */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (this.isTagStartChar(c)) {\n            var lower = c | 0x20;\n            this.sectionStart = this._index;\n            if (!this.xmlMode && lower === Sequences.TitleEnd[2]) {\n                this.startSpecial(Sequences.TitleEnd, 3);\n            }\n            else {\n                this._state =\n                    !this.xmlMode && lower === Sequences.ScriptEnd[2]\n                        ? 22 /* BeforeSpecialS */\n                        : 3 /* InTagName */;\n            }\n        }\n        else if (c === 47 /* Slash */) {\n            this._state = 5 /* BeforeClosingTagName */;\n        }\n        else {\n            this._state = 1 /* Text */;\n            this.stateText(c);\n        }\n    };\n    Tokenizer.prototype.stateInTagName = function (c) {\n        if (isEndOfTagSection(c)) {\n            this.cbs.onopentagname(this.getSection());\n            this.sectionStart = -1;\n            this._state = 8 /* BeforeAttributeName */;\n            this.stateBeforeAttributeName(c);\n        }\n    };\n    Tokenizer.prototype.stateBeforeClosingTagName = function (c) {\n        if (isWhitespace(c)) {\n            // Ignore\n        }\n        else if (c === 62 /* Gt */) {\n            this._state = 1 /* Text */;\n        }\n        else {\n            this._state = this.isTagStartChar(c)\n                ? 6 /* InClosingTagName */\n                : 20 /* InSpecialComment */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateInClosingTagName = function (c) {\n        if (c === 62 /* Gt */ || isWhitespace(c)) {\n            this.cbs.onclosetag(this.getSection());\n            this.sectionStart = -1;\n            this._state = 7 /* AfterClosingTagName */;\n            this.stateAfterClosingTagName(c);\n        }\n    };\n    Tokenizer.prototype.stateAfterClosingTagName = function (c) {\n        // Skip everything until \">\"\n        if (c === 62 /* Gt */ || this.fastForwardTo(62 /* Gt */)) {\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype.stateBeforeAttributeName = function (c) {\n        if (c === 62 /* Gt */) {\n            this.cbs.onopentagend();\n            if (this.isSpecial) {\n                this._state = 24 /* InSpecialTag */;\n                this.sequenceIndex = 0;\n            }\n            else {\n                this._state = 1 /* Text */;\n            }\n            this.baseState = this._state;\n            this.sectionStart = this._index + 1;\n        }\n        else if (c === 47 /* Slash */) {\n            this._state = 4 /* InSelfClosingTag */;\n        }\n        else if (!isWhitespace(c)) {\n            this._state = 9 /* InAttributeName */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateInSelfClosingTag = function (c) {\n        if (c === 62 /* Gt */) {\n            this.cbs.onselfclosingtag();\n            this._state = 1 /* Text */;\n            this.baseState = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n            this.isSpecial = false; // Reset special state, in case of self-closing special tags\n        }\n        else if (!isWhitespace(c)) {\n            this._state = 8 /* BeforeAttributeName */;\n            this.stateBeforeAttributeName(c);\n        }\n    };\n    Tokenizer.prototype.stateInAttributeName = function (c) {\n        if (c === 61 /* Eq */ || isEndOfTagSection(c)) {\n            this.cbs.onattribname(this.getSection());\n            this.sectionStart = -1;\n            this._state = 10 /* AfterAttributeName */;\n            this.stateAfterAttributeName(c);\n        }\n    };\n    Tokenizer.prototype.stateAfterAttributeName = function (c) {\n        if (c === 61 /* Eq */) {\n            this._state = 11 /* BeforeAttributeValue */;\n        }\n        else if (c === 47 /* Slash */ || c === 62 /* Gt */) {\n            this.cbs.onattribend(undefined);\n            this._state = 8 /* BeforeAttributeName */;\n            this.stateBeforeAttributeName(c);\n        }\n        else if (!isWhitespace(c)) {\n            this.cbs.onattribend(undefined);\n            this._state = 9 /* InAttributeName */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateBeforeAttributeValue = function (c) {\n        if (c === 34 /* DoubleQuote */) {\n            this._state = 12 /* InAttributeValueDq */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (c === 39 /* SingleQuote */) {\n            this._state = 13 /* InAttributeValueSq */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (!isWhitespace(c)) {\n            this.sectionStart = this._index;\n            this._state = 14 /* InAttributeValueNq */;\n            this.stateInAttributeValueNoQuotes(c); // Reconsume token\n        }\n    };\n    Tokenizer.prototype.handleInAttributeValue = function (c, quote) {\n        if (c === quote ||\n            (!this.decodeEntities && this.fastForwardTo(quote))) {\n            this.cbs.onattribdata(this.getSection());\n            this.sectionStart = -1;\n            this.cbs.onattribend(String.fromCharCode(quote));\n            this._state = 8 /* BeforeAttributeName */;\n        }\n        else if (this.decodeEntities && c === 38 /* Amp */) {\n            this.baseState = this._state;\n            this._state = 25 /* BeforeEntity */;\n        }\n    };\n    Tokenizer.prototype.stateInAttributeValueDoubleQuotes = function (c) {\n        this.handleInAttributeValue(c, 34 /* DoubleQuote */);\n    };\n    Tokenizer.prototype.stateInAttributeValueSingleQuotes = function (c) {\n        this.handleInAttributeValue(c, 39 /* SingleQuote */);\n    };\n    Tokenizer.prototype.stateInAttributeValueNoQuotes = function (c) {\n        if (isWhitespace(c) || c === 62 /* Gt */) {\n            this.cbs.onattribdata(this.getSection());\n            this.sectionStart = -1;\n            this.cbs.onattribend(null);\n            this._state = 8 /* BeforeAttributeName */;\n            this.stateBeforeAttributeName(c);\n        }\n        else if (this.decodeEntities && c === 38 /* Amp */) {\n            this.baseState = this._state;\n            this._state = 25 /* BeforeEntity */;\n        }\n    };\n    Tokenizer.prototype.stateBeforeDeclaration = function (c) {\n        if (c === 91 /* OpeningSquareBracket */) {\n            this._state = 19 /* CDATASequence */;\n            this.sequenceIndex = 0;\n        }\n        else {\n            this._state =\n                c === 45 /* Dash */\n                    ? 18 /* BeforeComment */\n                    : 16 /* InDeclaration */;\n        }\n    };\n    Tokenizer.prototype.stateInDeclaration = function (c) {\n        if (c === 62 /* Gt */ || this.fastForwardTo(62 /* Gt */)) {\n            this.cbs.ondeclaration(this.getSection());\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype.stateInProcessingInstruction = function (c) {\n        if (c === 62 /* Gt */ || this.fastForwardTo(62 /* Gt */)) {\n            this.cbs.onprocessinginstruction(this.getSection());\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype.stateBeforeComment = function (c) {\n        if (c === 45 /* Dash */) {\n            this._state = 21 /* InCommentLike */;\n            this.currentSequence = Sequences.CommentEnd;\n            // Allow short comments (eg. <!-->)\n            this.sequenceIndex = 2;\n            this.sectionStart = this._index + 1;\n        }\n        else {\n            this._state = 16 /* InDeclaration */;\n        }\n    };\n    Tokenizer.prototype.stateInSpecialComment = function (c) {\n        if (c === 62 /* Gt */ || this.fastForwardTo(62 /* Gt */)) {\n            this.cbs.oncomment(this.getSection());\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype.stateBeforeSpecialS = function (c) {\n        var lower = c | 0x20;\n        if (lower === Sequences.ScriptEnd[3]) {\n            this.startSpecial(Sequences.ScriptEnd, 4);\n        }\n        else if (lower === Sequences.StyleEnd[3]) {\n            this.startSpecial(Sequences.StyleEnd, 4);\n        }\n        else {\n            this._state = 3 /* InTagName */;\n            this.stateInTagName(c); // Consume the token again\n        }\n    };\n    Tokenizer.prototype.stateBeforeEntity = function (c) {\n        // Start excess with 1 to include the '&'\n        this.entityExcess = 1;\n        if (c === 35 /* Num */) {\n            this._state = 26 /* BeforeNumericEntity */;\n        }\n        else if (c === 38 /* Amp */) {\n            // We have two `&` characters in a row. Stay in the current state.\n        }\n        else {\n            this.trieIndex = 0;\n            this.trieCurrent = this.entityTrie[0];\n            this.trieResult = null;\n            this._state = 27 /* InNamedEntity */;\n            this.stateInNamedEntity(c);\n        }\n    };\n    Tokenizer.prototype.stateInNamedEntity = function (c) {\n        this.entityExcess += 1;\n        this.trieIndex = (0, decode_1.determineBranch)(this.entityTrie, this.trieCurrent, this.trieIndex + 1, c);\n        if (this.trieIndex < 0) {\n            this.emitNamedEntity();\n            this._index--;\n            return;\n        }\n        this.trieCurrent = this.entityTrie[this.trieIndex];\n        // If the branch is a value, store it and continue\n        if (this.trieCurrent & decode_1.BinTrieFlags.HAS_VALUE) {\n            // If we have a legacy entity while parsing strictly, just skip the number of bytes\n            if (!this.allowLegacyEntity() && c !== 59 /* Semi */) {\n                // No need to consider multi-byte values, as the legacy entity is always a single byte\n                this.trieIndex += 1;\n            }\n            else {\n                // Add 1 as we have already incremented the excess\n                var entityStart = this._index - this.entityExcess + 1;\n                if (entityStart > this.sectionStart) {\n                    this.emitPartial(this.buffer.substring(this.sectionStart, entityStart));\n                }\n                // If this is a surrogate pair, combine the higher bits from the node with the next byte\n                this.trieResult =\n                    this.trieCurrent & decode_1.BinTrieFlags.MULTI_BYTE\n                        ? String.fromCharCode(this.entityTrie[++this.trieIndex], this.entityTrie[++this.trieIndex])\n                        : String.fromCharCode(this.entityTrie[++this.trieIndex]);\n                this.entityExcess = 0;\n                this.sectionStart = this._index + 1;\n            }\n        }\n    };\n    Tokenizer.prototype.emitNamedEntity = function () {\n        if (this.trieResult) {\n            this.emitPartial(this.trieResult);\n        }\n        this._state = this.baseState;\n    };\n    Tokenizer.prototype.stateBeforeNumericEntity = function (c) {\n        if ((c | 0x20) === 120 /* LowerX */) {\n            this.entityExcess++;\n            this._state = 29 /* InHexEntity */;\n        }\n        else {\n            this._state = 28 /* InNumericEntity */;\n            this.stateInNumericEntity(c);\n        }\n    };\n    Tokenizer.prototype.decodeNumericEntity = function (base, strict) {\n        var entityStart = this._index - this.entityExcess - 1;\n        var numberStart = entityStart + 2 + (base >> 4);\n        if (numberStart !== this._index) {\n            // Emit leading data if any\n            if (entityStart > this.sectionStart) {\n                this.emitPartial(this.buffer.substring(this.sectionStart, entityStart));\n            }\n            // Parse entity\n            var entity = this.buffer.substring(numberStart, this._index);\n            var parsed = parseInt(entity, base);\n            this.emitPartial((0, decode_codepoint_1.default)(parsed));\n            this.sectionStart = this._index + Number(strict);\n        }\n        this._state = this.baseState;\n    };\n    Tokenizer.prototype.stateInNumericEntity = function (c) {\n        if (c === 59 /* Semi */) {\n            this.decodeNumericEntity(10, true);\n        }\n        else if (!isNumber(c)) {\n            if (this.allowLegacyEntity()) {\n                this.decodeNumericEntity(10, false);\n            }\n            else {\n                this._state = this.baseState;\n            }\n            this._index--;\n        }\n        else {\n            this.entityExcess++;\n        }\n    };\n    Tokenizer.prototype.stateInHexEntity = function (c) {\n        if (c === 59 /* Semi */) {\n            this.decodeNumericEntity(16, true);\n        }\n        else if ((c < 97 /* LowerA */ || c > 102 /* LowerF */) &&\n            (c < 65 /* UpperA */ || c > 70 /* UpperF */) &&\n            !isNumber(c)) {\n            if (this.allowLegacyEntity()) {\n                this.decodeNumericEntity(16, false);\n            }\n            else {\n                this._state = this.baseState;\n            }\n            this._index--;\n        }\n        else {\n            this.entityExcess++;\n        }\n    };\n    Tokenizer.prototype.allowLegacyEntity = function () {\n        return (!this.xmlMode &&\n            (this.baseState === 1 /* Text */ ||\n                this.baseState === 24 /* InSpecialTag */));\n    };\n    /**\n     * Remove data that has already been consumed from the buffer.\n     */\n    Tokenizer.prototype.cleanup = function () {\n        // If we are inside of text, emit what we already have.\n        if (this.running &&\n            this.sectionStart !== this._index &&\n            (this._state === 1 /* Text */ ||\n                (this._state === 24 /* InSpecialTag */ &&\n                    this.sequenceIndex === 0))) {\n            // TODO: We could emit attribute data here as well.\n            this.cbs.ontext(this.buffer.substr(this.sectionStart));\n            this.sectionStart = this._index;\n        }\n        var start = this.sectionStart < 0 ? this._index : this.sectionStart;\n        this.buffer =\n            start === this.buffer.length ? \"\" : this.buffer.substr(start);\n        this._index -= start;\n        this.bufferOffset += start;\n        if (this.sectionStart > 0) {\n            this.sectionStart = 0;\n        }\n    };\n    Tokenizer.prototype.shouldContinue = function () {\n        return this._index < this.buffer.length && this.running;\n    };\n    /**\n     * Iterates through the buffer, calling the function corresponding to the current state.\n     *\n     * States that are more likely to be hit are higher up, as a performance improvement.\n     */\n    Tokenizer.prototype.parse = function () {\n        while (this.shouldContinue()) {\n            var c = this.buffer.charCodeAt(this._index);\n            if (this._state === 1 /* Text */) {\n                this.stateText(c);\n            }\n            else if (this._state === 23 /* SpecialStartSequence */) {\n                this.stateSpecialStartSequence(c);\n            }\n            else if (this._state === 24 /* InSpecialTag */) {\n                this.stateInSpecialTag(c);\n            }\n            else if (this._state === 19 /* CDATASequence */) {\n                this.stateCDATASequence(c);\n            }\n            else if (this._state === 12 /* InAttributeValueDq */) {\n                this.stateInAttributeValueDoubleQuotes(c);\n            }\n            else if (this._state === 9 /* InAttributeName */) {\n                this.stateInAttributeName(c);\n            }\n            else if (this._state === 21 /* InCommentLike */) {\n                this.stateInCommentLike(c);\n            }\n            else if (this._state === 20 /* InSpecialComment */) {\n                this.stateInSpecialComment(c);\n            }\n            else if (this._state === 8 /* BeforeAttributeName */) {\n                this.stateBeforeAttributeName(c);\n            }\n            else if (this._state === 3 /* InTagName */) {\n                this.stateInTagName(c);\n            }\n            else if (this._state === 6 /* InClosingTagName */) {\n                this.stateInClosingTagName(c);\n            }\n            else if (this._state === 2 /* BeforeTagName */) {\n                this.stateBeforeTagName(c);\n            }\n            else if (this._state === 10 /* AfterAttributeName */) {\n                this.stateAfterAttributeName(c);\n            }\n            else if (this._state === 13 /* InAttributeValueSq */) {\n                this.stateInAttributeValueSingleQuotes(c);\n            }\n            else if (this._state === 11 /* BeforeAttributeValue */) {\n                this.stateBeforeAttributeValue(c);\n            }\n            else if (this._state === 5 /* BeforeClosingTagName */) {\n                this.stateBeforeClosingTagName(c);\n            }\n            else if (this._state === 7 /* AfterClosingTagName */) {\n                this.stateAfterClosingTagName(c);\n            }\n            else if (this._state === 22 /* BeforeSpecialS */) {\n                this.stateBeforeSpecialS(c);\n            }\n            else if (this._state === 14 /* InAttributeValueNq */) {\n                this.stateInAttributeValueNoQuotes(c);\n            }\n            else if (this._state === 4 /* InSelfClosingTag */) {\n                this.stateInSelfClosingTag(c);\n            }\n            else if (this._state === 16 /* InDeclaration */) {\n                this.stateInDeclaration(c);\n            }\n            else if (this._state === 15 /* BeforeDeclaration */) {\n                this.stateBeforeDeclaration(c);\n            }\n            else if (this._state === 18 /* BeforeComment */) {\n                this.stateBeforeComment(c);\n            }\n            else if (this._state === 17 /* InProcessingInstruction */) {\n                this.stateInProcessingInstruction(c);\n            }\n            else if (this._state === 27 /* InNamedEntity */) {\n                this.stateInNamedEntity(c);\n            }\n            else if (this._state === 25 /* BeforeEntity */) {\n                this.stateBeforeEntity(c);\n            }\n            else if (this._state === 29 /* InHexEntity */) {\n                this.stateInHexEntity(c);\n            }\n            else if (this._state === 28 /* InNumericEntity */) {\n                this.stateInNumericEntity(c);\n            }\n            else {\n                // `this._state === State.BeforeNumericEntity`\n                this.stateBeforeNumericEntity(c);\n            }\n            this._index++;\n        }\n        this.cleanup();\n    };\n    Tokenizer.prototype.finish = function () {\n        if (this._state === 27 /* InNamedEntity */) {\n            this.emitNamedEntity();\n        }\n        // If there is remaining data, emit it in a reasonable way\n        if (this.sectionStart < this._index) {\n            this.handleTrailingData();\n        }\n        this.cbs.onend();\n    };\n    /** Handle any trailing data. */\n    Tokenizer.prototype.handleTrailingData = function () {\n        var data = this.buffer.substr(this.sectionStart);\n        if (this._state === 21 /* InCommentLike */) {\n            if (this.currentSequence === Sequences.CdataEnd) {\n                this.cbs.oncdata(data);\n            }\n            else {\n                this.cbs.oncomment(data);\n            }\n        }\n        else if (this._state === 28 /* InNumericEntity */ &&\n            this.allowLegacyEntity()) {\n            this.decodeNumericEntity(10, false);\n            // All trailing data will have been consumed\n        }\n        else if (this._state === 29 /* InHexEntity */ &&\n            this.allowLegacyEntity()) {\n            this.decodeNumericEntity(16, false);\n            // All trailing data will have been consumed\n        }\n        else if (this._state === 3 /* InTagName */ ||\n            this._state === 8 /* BeforeAttributeName */ ||\n            this._state === 11 /* BeforeAttributeValue */ ||\n            this._state === 10 /* AfterAttributeName */ ||\n            this._state === 9 /* InAttributeName */ ||\n            this._state === 13 /* InAttributeValueSq */ ||\n            this._state === 12 /* InAttributeValueDq */ ||\n            this._state === 14 /* InAttributeValueNq */ ||\n            this._state === 6 /* InClosingTagName */) {\n            /*\n             * If we are currently in an opening or closing tag, us not calling the\n             * respective callback signals that the tag should be ignored.\n             */\n        }\n        else {\n            this.cbs.ontext(data);\n        }\n    };\n    Tokenizer.prototype.getSection = function () {\n        return this.buffer.substring(this.sectionStart, this._index);\n    };\n    Tokenizer.prototype.emitPartial = function (value) {\n        if (this.baseState !== 1 /* Text */ &&\n            this.baseState !== 24 /* InSpecialTag */) {\n            this.cbs.onattribdata(value);\n        }\n        else {\n            this.cbs.ontext(value);\n        }\n    };\n    return Tokenizer;\n}());\nexports.default = Tokenizer;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}